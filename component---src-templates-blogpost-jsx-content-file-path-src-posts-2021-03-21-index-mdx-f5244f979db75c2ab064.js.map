{"version":3,"file":"component---src-templates-blogpost-jsx-content-file-path-src-posts-2021-03-21-index-mdx-f5244f979db75c2ab064.js","mappings":"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","sources":["webpack://sharmarajdak.sh/./src/posts/2021-03-21/index.mdx","webpack://sharmarajdak.sh/./src/templates/blogpost.jsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    span: \"span\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\",\n    a: \"a\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/afa11bbba49acdd68b2cdb98aa61293f/2bef9/elasticsearch-logo.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 46%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVR42p1Ru07DQBD0lyBR8TdIfAIFoqWhoANREowhDUpAAUoiJJKKH6CkAolHbMAKRLLjRx7C57vbu2X9iOKCJkijvdk5jXbnzpBK/xvGvEGUGokIUIQqqaIqlmaN5HO18GXGELTOJI0qx4yUIh0zMwDNnDid4H5l/L4OkvWcj0/XDaO4/z14s50wHvlB6PnDYRgFUfzas93+l0IsJiti21ubyxs7qw9j3xvs7u1fXF4dWccn9fpBrXbdbh+apmlZp41mo3l23mrddrqjyZQWNDiQF29enpfuumtPj1MhaZcfljIukryWJOVJylMuUiGEhCJ2mRkQbZZ4nFE2UJriQY6sLepcxD9em+brysViXyVyLGT+BVRI+KV/aIY1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Elasticsearch Logo\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/afa11bbba49acdd68b2cdb98aa61293f/5a190/elasticsearch-logo.png\\\"\\n        srcset=\\\"/static/afa11bbba49acdd68b2cdb98aa61293f/772e8/elasticsearch-logo.png 200w,\\n/static/afa11bbba49acdd68b2cdb98aa61293f/e17e5/elasticsearch-logo.png 400w,\\n/static/afa11bbba49acdd68b2cdb98aa61293f/5a190/elasticsearch-logo.png 800w,\\n/static/afa11bbba49acdd68b2cdb98aa61293f/2bef9/elasticsearch-logo.png 1024w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"Before the rest of the article, let’s all agree that generating proper logs\\nis crucial for any application in production.\\nWhether it be structured logging, such as in JSON format,\\nor just plain strings printed, there must always be some form of\\ntrail on what the software is doing, to be used when (not if) the application misbehaves.\\nHere I use “application” as a general term to describe any\\nkind of software or code or tool that can potentially behave unexpectedly.\"), \"\\n\", React.createElement(_components.p, null, \"Generating logs is not enough of course.\\nWhat use are logs that aren’t there when you need them?\\nGenerated logs must be persisted in some way, and be made readily available\\nto stakeholders such as software engineers, system administrators,\\nand others with access to the systems in times of need.\\nHow they are persisted varies, based on the amount of logs and the\\nrate at which they are being generated.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"If an application logs at a slow to medium rate, such that writing to disk is feasible,\\nthen log files can be all you need.\\nSetup your Linux system to rotate the log\\nfile on schedule and send the files off to persistent storage such as a backup disk or\\nAWS S3 and you’re good. When required, the\\nlogs can be accessed and queried using tools grep or regular text editors.\"), \"\\n\", React.createElement(_components.li, null, \"Sometimes logging to a file does not cut it.\\nNot many people are wizards on Linux command line tools, to be able to\\ndissect and search through massive log files for exactly what they want all\\nwithin their terminals. And even if they are, it’s a bit too hard to replicate what,\\nsay, an SQL query could do on the command line itself.\\nIn the case that querying the logs is a requirement you feel to be important,\\neven if logging becomes a bit slower, it is ideal to store your logs to a database.\\nBe it a relational database such as MySQL or a document-based database like MongoDB,\\nthe writes will become slower than writing to a disk. However,\\nanyone comfortable with these databases’ querying languages should be able to form\\nfairly complex queries quickly to be able to get exactly the data they want.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Even when you’re using Docker, both the above approaches are viable.\\nFor logging to file, you could add a volume mount to the container to access the\\nlogs from outside the container.\\nFor using a database, you could just spin up a database container and persist\\nthe data (in case your application isn’t already using one).\"), \"\\n\", React.createElement(_components.p, null, \"However, both of the above approaches put the job of actually\\npersisting the logs (to disk or to a database) to the application itself.\\nWhile modern logging libraries are pretty well optimized to handle\\nmultiple streams and large amounts of data concurrently,\\nlogging may still become a bottleneck to an application’s performance\\nif there are, say, too many database connections being created or if the\\nsystem’s disk itself is slow. It might sometimes make sense to let some other tool\\nhandle the logs for your application, while the application itself does\\nnothing but throw out logs to stdout, as is the Docker way of logging.\"), \"\\n\", React.createElement(_components.p, null, \"How does this approach work? Simple.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"Your application generates logs and sends them to stdout or stderr.\"), \"\\n\", React.createElement(_components.li, null, \"The docker logging driver sends these logs onto a UDP endpoint (which is, in fact, a Logstash instance).\"), \"\\n\", React.createElement(_components.li, null, \"Logstash sends these logs to Elasticsearch where they get indexed and persisted.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Why this approach? Because Kibana. The ease of use and querying that comes through\\nthe use of Kibana cannot be overstated. And, of course, Elasticsearch is very\\nfast when it comes to searching. Just to be clear, I understand and you should too,\\nthat Kibana is a generalized visualization tool, and using it for analyzing logs is\\njust one of the things it can do. You can see filter logs by the container that generated them,\\nthe timestamps, and you can even add custom filters.\\nThe complete powers of Kibana are beyond the scope of this article and\\nI leave it as an exercise for the interested reader.\"), \"\\n\", React.createElement(_components.p, null, \"How do we do this? To start, you need an ELK stack set up where we can push our logs to.\\nYou could install each of these components and configure them if you feel so inclined.\\nFor this article, however, I’ll be using docker-compose to run all the services inside\\nDocker containers.\"), \"\\n\", React.createElement(_components.p, null, \"The stack works like so:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"We have one container running Elasticsearch.\"), \"\\n\", React.createElement(_components.li, null, \"We have one container running Kibana that connects to the Elasticsearch instance.\"), \"\\n\", React.createElement(_components.li, null, \"We have a Logstash “agent”, whose sole job is to take any incoming logs coming on\\nthe gelf interface and shove them into a Redis instance, which acts like a logs buffer.\"), \"\\n\", React.createElement(_components.li, null, \"A “central” Logstash container reads logs from the Redis buffer and shoves\\nthem into Elasticsearch, from where they become available to the Kibana service.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"Straightforward enough? Let’s write that down in a Docker-compose file.\\nThankfully, getting all of this setup doesn’t take much.\\nLet’s check out the services in our docker-compose file one by one.\"), \"\\n\", React.createElement(_components.h2, null, \"Docker-Compose\"), \"\\n\", React.createElement(_components.h3, null, \"Elasticsearch\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"elasticsearch:\\n  image: elasticsearch:7.11.1\\n  environment:\\n    - discovery.type=single-node\\n  volumes:\\n    - ./elasticsearch_data/:/usr/share/elasticsearch/data\\n  mem_limit: \\\"1g\\\"\\n\")), \"\\n\", React.createElement(_components.p, null, \"Simple. The environment variable \", React.createElement(_components.code, null, \"discovery.type\"), \" tells the elasticsearch engine\\nthat it’s running as a single node rather than a cluster.\\nThe volume mount ensures that elasticsearch data is persisted across container restarts.\\nThe \", React.createElement(_components.code, null, \"mem_limit\"), \" attribute is there because my humble laptop could not handle the full strength\\nof an elasticsearch engine. Yours might be able to handle a 2g memory limit,\\nbut test that at your own risk.\"), \"\\n\", React.createElement(_components.h3, null, \"Redis\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"redis-cache:\\n  image: redis:6.2\\n\")), \"\\n\", React.createElement(_components.p, null, \"We’ll leave Redis with the default config for the purpose of this article.\"), \"\\n\", React.createElement(_components.h3, null, \"Logstash (Agent)\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"logstash-agent:\\n  image: logstash:7.11.1\\n  volumes:\\n    - ./logstash-agent:/etc/logstash\\n  command: logstash -f /etc/logstash/logstash.conf\\n  depends_on:\\n    - elasticsearch\\n  ports:\\n    - 12201:12201/udp\\n\")), \"\\n\", React.createElement(_components.p, null, \"The agent exposes the UDP port 12201, onto which our application docker container will\\nsend its logs. We mount a directory logstash-agent containing our \", React.createElement(_components.code, null, \"logstash.conf\"), \" which will\\nconfigure the logstash instance instance to send incoming data to our redis instance.\\nThe \", React.createElement(_components.code, null, \"logstash.conf\"), \" can be something like this:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"input {\\n    gelf {\\n        port => 12201\\n    }\\n}\\n\\noutput {\\n    redis {\\n        host => \\\"redis-cache\\\"\\n        data_type => \\\"list\\\"\\n        key => \\\"logstash\\\"\\n    }\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Gelf is a logging format that we will be using for our application docker containers’\\nlog outputs, through the gelf logging driver.\\nYou can learn more about gelf \", React.createElement(_components.a, {\n    href: \"https://www.graylog.org/features/gelf\"\n  }, \"here\"), \".\"), \"\\n\", React.createElement(_components.h3, null, \"Logstash (Central)\"), \"\\n\", React.createElement(_components.p, null, \"The “central” logstash instance does the actual work in the sense that it takes the\\nlogs from Redis and pushes them to elasticsearch, where they get indexed and become available to use.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"logstash-central:\\n  image: logstash:7.11.1\\n  volumes:\\n    - ./logstash-central:/etc/logstash\\n  command: logstash -f /etc/logstash/logstash.conf\\n  depends_on:\\n    - elasticsearch\\n\")), \"\\n\", React.createElement(_components.p, null, \"The configuration file \", React.createElement(_components.code, null, \"logstash.conf\"), \" is mounted, in the logstash-central directory.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"input {\\n    redis {\\n        host => \\\"redis-cache\\\"\\n        type => \\\"redis-input\\\"\\n        data_type => \\\"list\\\"\\n        key => \\\"logstash\\\"\\n    }\\n}\\n\\noutput {\\n    elasticsearch {\\n        hosts => [\\\"elasticsearch:9200\\\"]\\n    }\\n}\\n\")), \"\\n\", React.createElement(_components.h3, null, \"Kibana\"), \"\\n\", React.createElement(_components.p, null, \"All kibana needs to know is where Elasticsearch is. And we expose port 5601 to access the web interface.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"kibana:\\n  image: kibana:7.11.1\\n  ports:\\n    - 5601:5601\\n  environment:\\n    - ELASTICSEARCH_HOSTS=http://elasticsearch:9200\\n  depends_on:\\n    - elasticsearch\\n\")), \"\\n\", React.createElement(_components.p, null, \"The complete Docker-compose file looks like this:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"version: \\\"2.1\\\"\\n\\nservices:\\n  elasticsearch:\\n    image: elasticsearch:7.11.1\\n    environment:\\n      - discovery.type=single-node\\n    volumes:\\n      - ./elasticsearch_data/:/usr/share/elasticsearch/data\\n    mem_limit: \\\"1g\\\"\\n\\n  redis-cache:\\n    image: redis:6.2\\n\\n  logstash-agent:\\n    image: logstash:7.11.1\\n    volumes:\\n      - ./logstash-agent:/etc/logstash\\n    command: logstash -f /etc/logstash/logstash.conf\\n    depends_on:\\n      - elasticsearch\\n    ports:\\n      - 12201:12201/udp\\n\\n  logstash-central:\\n    image: logstash:7.11.1\\n    volumes:\\n      - ./logstash-central:/etc/logstash\\n    command: logstash -f /etc/logstash/logstash.conf\\n    depends_on:\\n      - elasticsearch\\n\\n  kibana:\\n    image: kibana:7.11.1\\n    ports:\\n      - 5601:5601\\n    environment:\\n      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200\\n    depends_on:\\n      - elasticsearch\\n\")), \"\\n\", React.createElement(_components.p, null, \"With our directory structure being like so:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, null, \"| elasticsearch_data/\\n| logstash-agent/\\n| logstash.conf\\n| logstash-central/\\n| logstash.conf\\n| docker-compose.yml\\n\")), \"\\n\", React.createElement(_components.p, null, \"A docker-compose up here should do the trick, spinning up your very own ELK stack,\\nready to ingest any logs you throw at it!\\nTo access the Kibana dashboard, go to http://localhost:5601/ in your browser.\\nHowever, there aren’t any logs to be viewed yet.\\nBeware that the service may take a minute or two to initialize,\\nso don’t worry if there’s nothing on the webpage yet.\"), \"\\n\", React.createElement(_components.p, null, \"Now let's do what we came to do — create a container and put out some fresh logs.\"), \"\\n\", React.createElement(_components.h2, null, \"Generating logs\"), \"\\n\", React.createElement(_components.p, null, \"Let’s keep it simple. My service will be a small Node server with three endpoints.\\nWhat the server does and what the endpoints do is irrelevant in this context.\\nWe will consider this service to run in a separate docker-compose environment, and it will\\naccess Logstash via the exposed port 12201.\"), \"\\n\", React.createElement(_components.p, null, \"The docker-compose file will be as follows:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"version: \\\"2.1\\\"\\n\\nservices:\\n  app:\\n    container_name: \\\"myapp\\\"\\n    build: .\\n    ports:\\n      - \\\"9843:9843\\\"\\n    environment:\\n      - \\\"NODE_ENV=dev\\\"\\n      - \\\"HOST=0.0.0.0\\\"\\n      - \\\"PORT=9843\\\"\\n    logging:\\n      driver: gelf\\n      options:\\n        gelf-address: \\\"udp://localhost:12201\\\" # Logstash UDP input port\\n        tag: \\\"myapp\\\"\\n    restart: always\\n\")), \"\\n\", React.createElement(_components.p, null, \"Essentially, we build a Dockerfile in the same directory as this docker-compose file,\\nand it starts a server on port 9843 internally, which we expose to port 9843 on the host.\\nThere is some environment configuration, which you, as a reader, do not need to care about.\\nOur logging configuration is all within the block called, drum roll please, \", React.createElement(_components.strong, null, \"logging\"), \".\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-yaml\"\n  }, \"logging:\\n  driver: gelf\\n  options:\\n  gelf-address: \\\"udp://localhost:12201\\\"\\n  tag: \\\"myapp\\\"\\n\")), \"\\n\", React.createElement(_components.p, null, \"We tell docker-compose to use the “gelf” driver rather than the default\\n(which is the “local” driver, I think).\\nWe configure the driver under the options block.\\nWe specify the UDP endpoint where the logs need to be sent,\\nand a tag for all the logs from this service, which will be added\\nto the logs being sent in the GELF format.\"), \"\\n\", React.createElement(_components.p, null, \"In practice, you could have any number of docker-compose services,\\nconfigure it’s logging driver like so, and have all your logs from all of\\nyour services centralized to a single location. How awesome is that!?\"), \"\\n\", React.createElement(_components.h2, null, \"Viewing the results\"), \"\\n\", React.createElement(_components.p, null, \"Now, going into Kibana, you will have to specify a default index to use\\nwhen you go to the Elasticsearch logs section for the first time.\\nSince we are using Logstash, the index is of the form \", React.createElement(_components.code, null, \"logstash-\\\\*\"), \" unless\\nyou have messed with the logstash configuration on your own\\n(in which case you probably understand the index to specify, right?).\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/9bf65af752d6a03c1c08b8bf758f235d/29114/default-index.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVR42o2R61LCMBCF81qI5VrE4WF9FX/5CqIMQ0Pu2WxSTyxi9QfDztf2pN2Tk6Ri3u6axeZxvpnO2+liM521k2YN3VS9Bg+z9aRZjVmunldPu2W7FQeptLZKWymVUsY5b60LgYhSjAQoXgReDjgXgPdRWOs596D0vfXh49h18ozelDhSopSCD7hT4v6nOJfBIj4PR0oZJC7WecQbY7QxnHMu9WJUrtWX4omlp6EfiE4qPCJV81nbU3f2HmE1GcBXClw9vKi3d/3yuq/Ng/nUyUtyKibEvZT77tRZayjqGABEJUYdqvZplKxsYC6RGMk4KCwah8UFu8pjiNmFeNFXs7EBtmGAKb4XnDHdDX7N2CSSruM0+nYbJAn8iDu7/5E4i/uj/jqLsf4LHZpX2kkFEeAAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Specifying the default index\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/9bf65af752d6a03c1c08b8bf758f235d/5a190/default-index.png\\\"\\n        srcset=\\\"/static/9bf65af752d6a03c1c08b8bf758f235d/772e8/default-index.png 200w,\\n/static/9bf65af752d6a03c1c08b8bf758f235d/e17e5/default-index.png 400w,\\n/static/9bf65af752d6a03c1c08b8bf758f235d/5a190/default-index.png 800w,\\n/static/9bf65af752d6a03c1c08b8bf758f235d/c1b63/default-index.png 1200w,\\n/static/9bf65af752d6a03c1c08b8bf758f235d/29007/default-index.png 1600w,\\n/static/9bf65af752d6a03c1c08b8bf758f235d/29114/default-index.png 1920w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"You will also have to specify the time field in the next step.\\nSince we use GELF input, this will be the \", React.createElement(_components.code, null, \"@timestamp\"), \" field.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/87699c6863ef493c1651f66b23cdb3cf/29114/time-field.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVR42pWRTU/DMAyG87fG6D66DtB+NTfEiTuXSdw2VWua1vlwnBRnXcqGJiSsR9Wb1G9sJ2JZ7YrV9nG5nS+r+Wo7X1SzYsO6SHrDPCw2s6K8Zl2+lE+7dfUsjlJ1HagOpFRK9VobAG0tInrnkEF3Ebw5orVljHECwFAYmDgM7DrUjWwVp3rv8Yw19ixoyEEhjhZxONboA+N91MaqrpeyBYAYY7iNyTzmM6KRKikkT7HvQTYNm9uWD4FrwxgxJn7Mp0ZeKlPkthUY5wOFwI2zOd7G78oKLFF02d87AkfDveBfr5/1275xmM09WPbksVMxxlPS6ZvhXlqN7/vTx5e0SFPbLeYF1+dTE/4OnHAe+1LJIQl+iGmGv2G/xUS+oyCmnv9Fuh0w39zsWJHFa5+tAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Specifying the time field\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/87699c6863ef493c1651f66b23cdb3cf/5a190/time-field.png\\\"\\n        srcset=\\\"/static/87699c6863ef493c1651f66b23cdb3cf/772e8/time-field.png 200w,\\n/static/87699c6863ef493c1651f66b23cdb3cf/e17e5/time-field.png 400w,\\n/static/87699c6863ef493c1651f66b23cdb3cf/5a190/time-field.png 800w,\\n/static/87699c6863ef493c1651f66b23cdb3cf/c1b63/time-field.png 1200w,\\n/static/87699c6863ef493c1651f66b23cdb3cf/29007/time-field.png 1600w,\\n/static/87699c6863ef493c1651f66b23cdb3cf/29114/time-field.png 1920w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"On clicking \", React.createElement(_components.code, null, \"Create index pattern\"), \", you should now be able to go to\\nhttp://localhost:5601/app/discover/ to view logs from the server application\\nin all their beauty. In case you see no logs, try adjusting the time duration filter,\\nor ensuring that some logs are in fact being generated by the application.\\nTry sending some requests to the application to get some logs pumping.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/1a3a28675e23a139c5e305ac97941e7c/29114/logstash.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVR42lVSu04DMRC8n4JLcigJCeJTaagp6ehoQKJFkRBF0L38fjtmfE4gWU0s3+yOd8dxNV9u62ZdL1bXi1Wdscbn7OZ2MfHYAOBnTebrZnU1X86bzebufrvZVj+EKqWl0kKqM4AxcuIBLhVhciSMCUl5xtP79+PrVzVSobS1LoQYDykdcUigjHXTao3zISbkUYEsouN+T13VD1QbB32MMZ3F4TIuUik9vL3s2n2FCX04GOtj7l2Wf00IwXtfKPxi2aX0/Pmx69sK3iB2PmJC1MEhEwomlTbKGMoEZRwfcAYXCPBaG5zgnK/gvohLMM7bbmj7YSSUUAaAIYTiiGkrwAPGWG0sOtsi9hgxRKS7YewG1DMIcMGM5+ZYkZJSFt67fJ1Hzy5bznZRAGX/J57aoS/+pXwMxCSPg/lzZ9zzSVzGFpi5ndRlbFqA5siJPDaOgn3UV5CdgAh4IcNI+5FSLvAkADB8WiVuEQ+GS3wGVAr5C5DcTtFcWHgqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Kibana Logs\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/1a3a28675e23a139c5e305ac97941e7c/5a190/logstash.png\\\"\\n        srcset=\\\"/static/1a3a28675e23a139c5e305ac97941e7c/772e8/logstash.png 200w,\\n/static/1a3a28675e23a139c5e305ac97941e7c/e17e5/logstash.png 400w,\\n/static/1a3a28675e23a139c5e305ac97941e7c/5a190/logstash.png 800w,\\n/static/1a3a28675e23a139c5e305ac97941e7c/c1b63/logstash.png 1200w,\\n/static/1a3a28675e23a139c5e305ac97941e7c/29007/logstash.png 1600w,\\n/static/1a3a28675e23a139c5e305ac97941e7c/29114/logstash.png 1920w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"Isn’t that really nice? There you have all your logs, available and ready to be analyzed.\\nIf you’re new to Logstash and Kibana (like me), it’s nice to play around and see what\\nKibana can do for you. Given the current configuration, the actual incoming logs that\\nyour application created are available as a string in the \", React.createElement(_components.code, null, \"message\"), \" key.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/849bd03163af5b32119cd78907338608/29114/logs-json.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABL0lEQVR42o2RCW7CMBBFc6dSlpSlqNz/BpUqEcBZ7NiJl4nt0I4doKGqSqOnr+/xH2VGThbr3XSxnsxXk1lgtthM0818uU3Xb6jP8eppthyTLrcvr7t0tU0K0XLecCHqmnMulNLaGG3AABj8YDB3YARDWkNCOeatc70/fyKuP1/wV/Xn7+IV63vn++SQkbrkrQRprFSd1DaYMdr+UjQWrE/eP/YVoYK1UoEyVkHERMBdzI96pMPm4lDUhLKBnNV5zQhjJzwyeqoYqaIPXGInSo8lL3n4M9mTKivooaRZEdowVNS8EhE+KO6FYAN6QcNVw2Vozo654LIZISXozmlwqDi5jtzM7RjHzmnTKNxhKN3t+SfQuUTrTivQxhoY4x7inE+s6/HRgv4bHBgfv2nVFzUoTOy4xt1uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"A sample JSON log\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/849bd03163af5b32119cd78907338608/5a190/logs-json.png\\\"\\n        srcset=\\\"/static/849bd03163af5b32119cd78907338608/772e8/logs-json.png 200w,\\n/static/849bd03163af5b32119cd78907338608/e17e5/logs-json.png 400w,\\n/static/849bd03163af5b32119cd78907338608/5a190/logs-json.png 800w,\\n/static/849bd03163af5b32119cd78907338608/c1b63/logs-json.png 1200w,\\n/static/849bd03163af5b32119cd78907338608/29007/logs-json.png 1600w,\\n/static/849bd03163af5b32119cd78907338608/29114/logs-json.png 1920w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"It is, I believe, possible to have the log “message” itself be parsed and made filterable. That could give to you ultimate power. Perhaps try to work that out. And maybe let me know too. Or maybe I’ll update this article once I do figure out.\"), \"\\n\", React.createElement(_components.h2, null, \"On Scalability\"), \"\\n\", React.createElement(_components.p, null, \"Can this ELK setup scale? I think it might, to a good extent.\\nWe can have multiple central Logstash instances ingesting logs from the Redis database,\\nwhich can itself be scaled to multiple nodes with replication.\\nElasticsearch itself can be set up to run in a cluster of multiple nodes\\nto aid with high availability. The Redis buffer ensures some amount of rate\\nlimiting on the incoming logs since the consumer Logstash instances can pick up\\nthe logs at their own pace, allowing the Elasticsearch engine sufficient time to index the\\ndata.\"), \"\\n\", React.createElement(_components.p, null, \"That's it for now, dear reader. Until next time, happy learning.\"), \"\\n\", React.createElement(_components.p, null, \"In case you wanna discuss something about this article or tech in general,\\nfeel free to reach out to me!\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/sharmarajdaksh.github.io/sharmarajdaksh.github.io/src/posts/2021-03-21/index.mdx\";\nimport React from \"react\";\nimport {graphql} from \"gatsby\";\nimport {MDXProvider} from \"@mdx-js/react\";\nimport {DARK} from \"../constants/Themes\";\nimport classnames from \"classnames\";\nimport {landing, divider, dividerFooter, blogpost__content, blogpost__title, blogpost__subtitle, blogpost__author, blogpost__header} from \"../styles/components/Blog.module.scss\";\nimport {main__shell, main__shellLight} from \"../styles/components/Main.module.scss\";\nimport ThemeContext from \"../context/Theme.context\";\nimport BlogTitle from \"../components/BlogTitle.component\";\nimport BlogFooter from \"../components/BlogFooter.component\";\nimport mdxShortcodes from \"../mdx-components\";\nimport Seo from \"../components/SEO.component\";\nconst BlogPost = ({data: {mdx}, children}) => {\n  const {theme} = React.useContext(ThemeContext);\n  const darkMode = theme === DARK;\n  const seo = React.createElement(Seo, {\n    title: mdx.frontmatter.title,\n    description: mdx.frontmatter.listingContent,\n    additionalKeywords: mdx.frontmatter.keywords,\n    slug: \"/blog/\" + mdx.frontmatter.slug + \"/\"\n  });\n  const core = React.createElement(\"main\", {\n    className: classnames(main__shell, darkMode ? null : main__shellLight, landing)\n  }, React.createElement(BlogTitle), React.createElement(\"section\", {\n    className: blogpost__content\n  }, React.createElement(\"div\", {\n    className: blogpost__header,\n    \"data-aos\": \"fade-up\",\n    \"data-aos-duration\": \"200\"\n  }, React.createElement(\"div\", {\n    className: blogpost__title\n  }, mdx.frontmatter.title), React.createElement(\"div\", {\n    className: blogpost__subtitle\n  }, mdx.frontmatter.listingContent), React.createElement(\"div\", {\n    className: blogpost__author\n  }, mdx.frontmatter.date, \" | \", mdx.frontmatter.author, \" |\", \" \", `${Math.floor(mdx.timeToRead)} minute read`), React.createElement(\"div\", {\n    className: divider\n  })), React.createElement(\"div\", {\n    \"data-aos\": \"fade-up\",\n    \"data-aos-duration\": \"1000\"\n  }, React.createElement(MDXProvider, {\n    components: mdxShortcodes\n  }, children))), React.createElement(\"div\", {\n    className: dividerFooter\n  }), React.createElement(BlogFooter));\n  return React.createElement(React.Fragment, null, seo, core);\n};\nexport const pageQuery = graphql`\n  query BlogPostQuery($id: String) {\n    mdx(id: { eq: $id }) {\n      id\n      timeToRead\n      frontmatter {\n        title\n        date\n        author\n        listingContent\n        slug\n        keywords\n      }\n    }\n  }\n`;\nBlogPost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(BlogPost, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","span","p","ul","li","h2","h3","pre","code","a","strong","_provideComponents","components","React","dangerouslySetInnerHTML","__html","className","href","wrapper","MDXLayout","BlogPost","_ref","data","mdx","children","theme","ThemeContext","darkMode","DARK","seo","Seo","title","frontmatter","description","listingContent","additionalKeywords","keywords","slug","core","classnames","main__shell","main__shellLight","landing","BlogTitle","blogpost__content","blogpost__header","blogpost__title","blogpost__subtitle","blogpost__author","date","author","Math","floor","timeToRead","divider","MDXProvider","mdxShortcodes","dividerFooter","BlogFooter","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}