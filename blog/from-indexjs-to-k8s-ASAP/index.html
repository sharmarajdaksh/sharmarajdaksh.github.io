<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.1"/><meta name="theme-color" content="#EEE"/><meta data-react-helmet="true" name="icon" href="./images/favicon.png"/><meta data-react-helmet="true" name="keywords" content="kubernetes, k8s, docker, node, node.js, containers, container orchestration, declarative approach, Dakshraj Sharma, Dakshraj, software, softeware engineer, India, Developer, sharmarajdaksh"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=0.9"/><meta data-react-helmet="true" name="description" content="Kubernetes isn&#x27;t scary. Really. I promise."/><meta data-react-helmet="true" property="og:title" content="From index.js to Kubernetes ASAP"/><meta data-react-helmet="true" property="og:description" content="Kubernetes isn&#x27;t scary. Really. I promise."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="image" property="og:image" content="https://sharmarajdak.sh/og_dakshraj_sharma.png"/><meta data-react-helmet="true" property="og:url" content="https://sharmarajdak.sh/blog/from-indexjs-to-k8s-ASAP/"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:image" content="https://sharmarajdak.sh/og_dakshraj_sharma.png"/><meta data-react-helmet="true" name="twitter:creator" content="Kubernetes isn&#x27;t scary. Really. I promise."/><meta data-react-helmet="true" name="twitter:title" content="From index.js to Kubernetes ASAP"/><meta data-react-helmet="true" name="twitter:description" content="Kubernetes isn&#x27;t scary. Really. I promise."/><meta data-react-helmet="true" name="author" content="Dakshraj Sharma"/><style data-href="/styles.266c4306c51d587c8340.css" data-identity="gatsby-global-css">a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{color:inherit;font-size:inherit;text-decoration:none}*,body,html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;box-sizing:border-box!important;font-display:swap;font-family:Lato,Segoe UI,Tahoma,Geneva,Verdana,sans-serif}body *{-ms-overflow-style:none;scrollbar-width:none}body ::-webkit-scrollbar{display:none}.blackBG{background-color:#000}.whiteBG{background-color:#eee}.gatsby-resp-image-wrapper{display:block!important;margin-bottom:8%!important;margin-top:8%!important;position:relative!important;z-index:0!important}.gatsby-resp-image-image{z-index:0!important}[data-aos][data-aos][data-aos-duration="50"],body[data-aos-duration="50"] [data-aos]{transition-duration:50ms}[data-aos][data-aos][data-aos-delay="50"],body[data-aos-delay="50"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="50"].aos-animate,body[data-aos-delay="50"] [data-aos].aos-animate{transition-delay:50ms}[data-aos][data-aos][data-aos-duration="100"],body[data-aos-duration="100"] [data-aos]{transition-duration:.1s}[data-aos][data-aos][data-aos-delay="100"],body[data-aos-delay="100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="100"].aos-animate,body[data-aos-delay="100"] [data-aos].aos-animate{transition-delay:.1s}[data-aos][data-aos][data-aos-duration="150"],body[data-aos-duration="150"] [data-aos]{transition-duration:.15s}[data-aos][data-aos][data-aos-delay="150"],body[data-aos-delay="150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="150"].aos-animate,body[data-aos-delay="150"] [data-aos].aos-animate{transition-delay:.15s}[data-aos][data-aos][data-aos-duration="200"],body[data-aos-duration="200"] [data-aos]{transition-duration:.2s}[data-aos][data-aos][data-aos-delay="200"],body[data-aos-delay="200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="200"].aos-animate,body[data-aos-delay="200"] [data-aos].aos-animate{transition-delay:.2s}[data-aos][data-aos][data-aos-duration="250"],body[data-aos-duration="250"] [data-aos]{transition-duration:.25s}[data-aos][data-aos][data-aos-delay="250"],body[data-aos-delay="250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="250"].aos-animate,body[data-aos-delay="250"] [data-aos].aos-animate{transition-delay:.25s}[data-aos][data-aos][data-aos-duration="300"],body[data-aos-duration="300"] [data-aos]{transition-duration:.3s}[data-aos][data-aos][data-aos-delay="300"],body[data-aos-delay="300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="300"].aos-animate,body[data-aos-delay="300"] [data-aos].aos-animate{transition-delay:.3s}[data-aos][data-aos][data-aos-duration="350"],body[data-aos-duration="350"] [data-aos]{transition-duration:.35s}[data-aos][data-aos][data-aos-delay="350"],body[data-aos-delay="350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="350"].aos-animate,body[data-aos-delay="350"] [data-aos].aos-animate{transition-delay:.35s}[data-aos][data-aos][data-aos-duration="400"],body[data-aos-duration="400"] [data-aos]{transition-duration:.4s}[data-aos][data-aos][data-aos-delay="400"],body[data-aos-delay="400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="400"].aos-animate,body[data-aos-delay="400"] [data-aos].aos-animate{transition-delay:.4s}[data-aos][data-aos][data-aos-duration="450"],body[data-aos-duration="450"] [data-aos]{transition-duration:.45s}[data-aos][data-aos][data-aos-delay="450"],body[data-aos-delay="450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="450"].aos-animate,body[data-aos-delay="450"] [data-aos].aos-animate{transition-delay:.45s}[data-aos][data-aos][data-aos-duration="500"],body[data-aos-duration="500"] [data-aos]{transition-duration:.5s}[data-aos][data-aos][data-aos-delay="500"],body[data-aos-delay="500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="500"].aos-animate,body[data-aos-delay="500"] [data-aos].aos-animate{transition-delay:.5s}[data-aos][data-aos][data-aos-duration="550"],body[data-aos-duration="550"] [data-aos]{transition-duration:.55s}[data-aos][data-aos][data-aos-delay="550"],body[data-aos-delay="550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="550"].aos-animate,body[data-aos-delay="550"] [data-aos].aos-animate{transition-delay:.55s}[data-aos][data-aos][data-aos-duration="600"],body[data-aos-duration="600"] [data-aos]{transition-duration:.6s}[data-aos][data-aos][data-aos-delay="600"],body[data-aos-delay="600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="600"].aos-animate,body[data-aos-delay="600"] [data-aos].aos-animate{transition-delay:.6s}[data-aos][data-aos][data-aos-duration="650"],body[data-aos-duration="650"] [data-aos]{transition-duration:.65s}[data-aos][data-aos][data-aos-delay="650"],body[data-aos-delay="650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="650"].aos-animate,body[data-aos-delay="650"] [data-aos].aos-animate{transition-delay:.65s}[data-aos][data-aos][data-aos-duration="700"],body[data-aos-duration="700"] [data-aos]{transition-duration:.7s}[data-aos][data-aos][data-aos-delay="700"],body[data-aos-delay="700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="700"].aos-animate,body[data-aos-delay="700"] [data-aos].aos-animate{transition-delay:.7s}[data-aos][data-aos][data-aos-duration="750"],body[data-aos-duration="750"] [data-aos]{transition-duration:.75s}[data-aos][data-aos][data-aos-delay="750"],body[data-aos-delay="750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="750"].aos-animate,body[data-aos-delay="750"] [data-aos].aos-animate{transition-delay:.75s}[data-aos][data-aos][data-aos-duration="800"],body[data-aos-duration="800"] [data-aos]{transition-duration:.8s}[data-aos][data-aos][data-aos-delay="800"],body[data-aos-delay="800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="800"].aos-animate,body[data-aos-delay="800"] [data-aos].aos-animate{transition-delay:.8s}[data-aos][data-aos][data-aos-duration="850"],body[data-aos-duration="850"] [data-aos]{transition-duration:.85s}[data-aos][data-aos][data-aos-delay="850"],body[data-aos-delay="850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="850"].aos-animate,body[data-aos-delay="850"] [data-aos].aos-animate{transition-delay:.85s}[data-aos][data-aos][data-aos-duration="900"],body[data-aos-duration="900"] [data-aos]{transition-duration:.9s}[data-aos][data-aos][data-aos-delay="900"],body[data-aos-delay="900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="900"].aos-animate,body[data-aos-delay="900"] [data-aos].aos-animate{transition-delay:.9s}[data-aos][data-aos][data-aos-duration="950"],body[data-aos-duration="950"] [data-aos]{transition-duration:.95s}[data-aos][data-aos][data-aos-delay="950"],body[data-aos-delay="950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="950"].aos-animate,body[data-aos-delay="950"] [data-aos].aos-animate{transition-delay:.95s}[data-aos][data-aos][data-aos-duration="1000"],body[data-aos-duration="1000"] [data-aos]{transition-duration:1s}[data-aos][data-aos][data-aos-delay="1000"],body[data-aos-delay="1000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1000"].aos-animate,body[data-aos-delay="1000"] [data-aos].aos-animate{transition-delay:1s}[data-aos][data-aos][data-aos-duration="1050"],body[data-aos-duration="1050"] [data-aos]{transition-duration:1.05s}[data-aos][data-aos][data-aos-delay="1050"],body[data-aos-delay="1050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1050"].aos-animate,body[data-aos-delay="1050"] [data-aos].aos-animate{transition-delay:1.05s}[data-aos][data-aos][data-aos-duration="1100"],body[data-aos-duration="1100"] [data-aos]{transition-duration:1.1s}[data-aos][data-aos][data-aos-delay="1100"],body[data-aos-delay="1100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1100"].aos-animate,body[data-aos-delay="1100"] [data-aos].aos-animate{transition-delay:1.1s}[data-aos][data-aos][data-aos-duration="1150"],body[data-aos-duration="1150"] [data-aos]{transition-duration:1.15s}[data-aos][data-aos][data-aos-delay="1150"],body[data-aos-delay="1150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1150"].aos-animate,body[data-aos-delay="1150"] [data-aos].aos-animate{transition-delay:1.15s}[data-aos][data-aos][data-aos-duration="1200"],body[data-aos-duration="1200"] [data-aos]{transition-duration:1.2s}[data-aos][data-aos][data-aos-delay="1200"],body[data-aos-delay="1200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1200"].aos-animate,body[data-aos-delay="1200"] [data-aos].aos-animate{transition-delay:1.2s}[data-aos][data-aos][data-aos-duration="1250"],body[data-aos-duration="1250"] [data-aos]{transition-duration:1.25s}[data-aos][data-aos][data-aos-delay="1250"],body[data-aos-delay="1250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1250"].aos-animate,body[data-aos-delay="1250"] [data-aos].aos-animate{transition-delay:1.25s}[data-aos][data-aos][data-aos-duration="1300"],body[data-aos-duration="1300"] [data-aos]{transition-duration:1.3s}[data-aos][data-aos][data-aos-delay="1300"],body[data-aos-delay="1300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1300"].aos-animate,body[data-aos-delay="1300"] [data-aos].aos-animate{transition-delay:1.3s}[data-aos][data-aos][data-aos-duration="1350"],body[data-aos-duration="1350"] [data-aos]{transition-duration:1.35s}[data-aos][data-aos][data-aos-delay="1350"],body[data-aos-delay="1350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1350"].aos-animate,body[data-aos-delay="1350"] [data-aos].aos-animate{transition-delay:1.35s}[data-aos][data-aos][data-aos-duration="1400"],body[data-aos-duration="1400"] [data-aos]{transition-duration:1.4s}[data-aos][data-aos][data-aos-delay="1400"],body[data-aos-delay="1400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1400"].aos-animate,body[data-aos-delay="1400"] [data-aos].aos-animate{transition-delay:1.4s}[data-aos][data-aos][data-aos-duration="1450"],body[data-aos-duration="1450"] [data-aos]{transition-duration:1.45s}[data-aos][data-aos][data-aos-delay="1450"],body[data-aos-delay="1450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1450"].aos-animate,body[data-aos-delay="1450"] [data-aos].aos-animate{transition-delay:1.45s}[data-aos][data-aos][data-aos-duration="1500"],body[data-aos-duration="1500"] [data-aos]{transition-duration:1.5s}[data-aos][data-aos][data-aos-delay="1500"],body[data-aos-delay="1500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1500"].aos-animate,body[data-aos-delay="1500"] [data-aos].aos-animate{transition-delay:1.5s}[data-aos][data-aos][data-aos-duration="1550"],body[data-aos-duration="1550"] [data-aos]{transition-duration:1.55s}[data-aos][data-aos][data-aos-delay="1550"],body[data-aos-delay="1550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1550"].aos-animate,body[data-aos-delay="1550"] [data-aos].aos-animate{transition-delay:1.55s}[data-aos][data-aos][data-aos-duration="1600"],body[data-aos-duration="1600"] [data-aos]{transition-duration:1.6s}[data-aos][data-aos][data-aos-delay="1600"],body[data-aos-delay="1600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1600"].aos-animate,body[data-aos-delay="1600"] [data-aos].aos-animate{transition-delay:1.6s}[data-aos][data-aos][data-aos-duration="1650"],body[data-aos-duration="1650"] [data-aos]{transition-duration:1.65s}[data-aos][data-aos][data-aos-delay="1650"],body[data-aos-delay="1650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1650"].aos-animate,body[data-aos-delay="1650"] [data-aos].aos-animate{transition-delay:1.65s}[data-aos][data-aos][data-aos-duration="1700"],body[data-aos-duration="1700"] [data-aos]{transition-duration:1.7s}[data-aos][data-aos][data-aos-delay="1700"],body[data-aos-delay="1700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1700"].aos-animate,body[data-aos-delay="1700"] [data-aos].aos-animate{transition-delay:1.7s}[data-aos][data-aos][data-aos-duration="1750"],body[data-aos-duration="1750"] [data-aos]{transition-duration:1.75s}[data-aos][data-aos][data-aos-delay="1750"],body[data-aos-delay="1750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1750"].aos-animate,body[data-aos-delay="1750"] [data-aos].aos-animate{transition-delay:1.75s}[data-aos][data-aos][data-aos-duration="1800"],body[data-aos-duration="1800"] [data-aos]{transition-duration:1.8s}[data-aos][data-aos][data-aos-delay="1800"],body[data-aos-delay="1800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1800"].aos-animate,body[data-aos-delay="1800"] [data-aos].aos-animate{transition-delay:1.8s}[data-aos][data-aos][data-aos-duration="1850"],body[data-aos-duration="1850"] [data-aos]{transition-duration:1.85s}[data-aos][data-aos][data-aos-delay="1850"],body[data-aos-delay="1850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1850"].aos-animate,body[data-aos-delay="1850"] [data-aos].aos-animate{transition-delay:1.85s}[data-aos][data-aos][data-aos-duration="1900"],body[data-aos-duration="1900"] [data-aos]{transition-duration:1.9s}[data-aos][data-aos][data-aos-delay="1900"],body[data-aos-delay="1900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1900"].aos-animate,body[data-aos-delay="1900"] [data-aos].aos-animate{transition-delay:1.9s}[data-aos][data-aos][data-aos-duration="1950"],body[data-aos-duration="1950"] [data-aos]{transition-duration:1.95s}[data-aos][data-aos][data-aos-delay="1950"],body[data-aos-delay="1950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="1950"].aos-animate,body[data-aos-delay="1950"] [data-aos].aos-animate{transition-delay:1.95s}[data-aos][data-aos][data-aos-duration="2000"],body[data-aos-duration="2000"] [data-aos]{transition-duration:2s}[data-aos][data-aos][data-aos-delay="2000"],body[data-aos-delay="2000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2000"].aos-animate,body[data-aos-delay="2000"] [data-aos].aos-animate{transition-delay:2s}[data-aos][data-aos][data-aos-duration="2050"],body[data-aos-duration="2050"] [data-aos]{transition-duration:2.05s}[data-aos][data-aos][data-aos-delay="2050"],body[data-aos-delay="2050"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2050"].aos-animate,body[data-aos-delay="2050"] [data-aos].aos-animate{transition-delay:2.05s}[data-aos][data-aos][data-aos-duration="2100"],body[data-aos-duration="2100"] [data-aos]{transition-duration:2.1s}[data-aos][data-aos][data-aos-delay="2100"],body[data-aos-delay="2100"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2100"].aos-animate,body[data-aos-delay="2100"] [data-aos].aos-animate{transition-delay:2.1s}[data-aos][data-aos][data-aos-duration="2150"],body[data-aos-duration="2150"] [data-aos]{transition-duration:2.15s}[data-aos][data-aos][data-aos-delay="2150"],body[data-aos-delay="2150"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2150"].aos-animate,body[data-aos-delay="2150"] [data-aos].aos-animate{transition-delay:2.15s}[data-aos][data-aos][data-aos-duration="2200"],body[data-aos-duration="2200"] [data-aos]{transition-duration:2.2s}[data-aos][data-aos][data-aos-delay="2200"],body[data-aos-delay="2200"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2200"].aos-animate,body[data-aos-delay="2200"] [data-aos].aos-animate{transition-delay:2.2s}[data-aos][data-aos][data-aos-duration="2250"],body[data-aos-duration="2250"] [data-aos]{transition-duration:2.25s}[data-aos][data-aos][data-aos-delay="2250"],body[data-aos-delay="2250"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2250"].aos-animate,body[data-aos-delay="2250"] [data-aos].aos-animate{transition-delay:2.25s}[data-aos][data-aos][data-aos-duration="2300"],body[data-aos-duration="2300"] [data-aos]{transition-duration:2.3s}[data-aos][data-aos][data-aos-delay="2300"],body[data-aos-delay="2300"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2300"].aos-animate,body[data-aos-delay="2300"] [data-aos].aos-animate{transition-delay:2.3s}[data-aos][data-aos][data-aos-duration="2350"],body[data-aos-duration="2350"] [data-aos]{transition-duration:2.35s}[data-aos][data-aos][data-aos-delay="2350"],body[data-aos-delay="2350"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2350"].aos-animate,body[data-aos-delay="2350"] [data-aos].aos-animate{transition-delay:2.35s}[data-aos][data-aos][data-aos-duration="2400"],body[data-aos-duration="2400"] [data-aos]{transition-duration:2.4s}[data-aos][data-aos][data-aos-delay="2400"],body[data-aos-delay="2400"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2400"].aos-animate,body[data-aos-delay="2400"] [data-aos].aos-animate{transition-delay:2.4s}[data-aos][data-aos][data-aos-duration="2450"],body[data-aos-duration="2450"] [data-aos]{transition-duration:2.45s}[data-aos][data-aos][data-aos-delay="2450"],body[data-aos-delay="2450"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2450"].aos-animate,body[data-aos-delay="2450"] [data-aos].aos-animate{transition-delay:2.45s}[data-aos][data-aos][data-aos-duration="2500"],body[data-aos-duration="2500"] [data-aos]{transition-duration:2.5s}[data-aos][data-aos][data-aos-delay="2500"],body[data-aos-delay="2500"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2500"].aos-animate,body[data-aos-delay="2500"] [data-aos].aos-animate{transition-delay:2.5s}[data-aos][data-aos][data-aos-duration="2550"],body[data-aos-duration="2550"] [data-aos]{transition-duration:2.55s}[data-aos][data-aos][data-aos-delay="2550"],body[data-aos-delay="2550"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2550"].aos-animate,body[data-aos-delay="2550"] [data-aos].aos-animate{transition-delay:2.55s}[data-aos][data-aos][data-aos-duration="2600"],body[data-aos-duration="2600"] [data-aos]{transition-duration:2.6s}[data-aos][data-aos][data-aos-delay="2600"],body[data-aos-delay="2600"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2600"].aos-animate,body[data-aos-delay="2600"] [data-aos].aos-animate{transition-delay:2.6s}[data-aos][data-aos][data-aos-duration="2650"],body[data-aos-duration="2650"] [data-aos]{transition-duration:2.65s}[data-aos][data-aos][data-aos-delay="2650"],body[data-aos-delay="2650"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2650"].aos-animate,body[data-aos-delay="2650"] [data-aos].aos-animate{transition-delay:2.65s}[data-aos][data-aos][data-aos-duration="2700"],body[data-aos-duration="2700"] [data-aos]{transition-duration:2.7s}[data-aos][data-aos][data-aos-delay="2700"],body[data-aos-delay="2700"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2700"].aos-animate,body[data-aos-delay="2700"] [data-aos].aos-animate{transition-delay:2.7s}[data-aos][data-aos][data-aos-duration="2750"],body[data-aos-duration="2750"] [data-aos]{transition-duration:2.75s}[data-aos][data-aos][data-aos-delay="2750"],body[data-aos-delay="2750"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2750"].aos-animate,body[data-aos-delay="2750"] [data-aos].aos-animate{transition-delay:2.75s}[data-aos][data-aos][data-aos-duration="2800"],body[data-aos-duration="2800"] [data-aos]{transition-duration:2.8s}[data-aos][data-aos][data-aos-delay="2800"],body[data-aos-delay="2800"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2800"].aos-animate,body[data-aos-delay="2800"] [data-aos].aos-animate{transition-delay:2.8s}[data-aos][data-aos][data-aos-duration="2850"],body[data-aos-duration="2850"] [data-aos]{transition-duration:2.85s}[data-aos][data-aos][data-aos-delay="2850"],body[data-aos-delay="2850"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2850"].aos-animate,body[data-aos-delay="2850"] [data-aos].aos-animate{transition-delay:2.85s}[data-aos][data-aos][data-aos-duration="2900"],body[data-aos-duration="2900"] [data-aos]{transition-duration:2.9s}[data-aos][data-aos][data-aos-delay="2900"],body[data-aos-delay="2900"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2900"].aos-animate,body[data-aos-delay="2900"] [data-aos].aos-animate{transition-delay:2.9s}[data-aos][data-aos][data-aos-duration="2950"],body[data-aos-duration="2950"] [data-aos]{transition-duration:2.95s}[data-aos][data-aos][data-aos-delay="2950"],body[data-aos-delay="2950"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="2950"].aos-animate,body[data-aos-delay="2950"] [data-aos].aos-animate{transition-delay:2.95s}[data-aos][data-aos][data-aos-duration="3000"],body[data-aos-duration="3000"] [data-aos]{transition-duration:3s}[data-aos][data-aos][data-aos-delay="3000"],body[data-aos-delay="3000"] [data-aos]{transition-delay:0}[data-aos][data-aos][data-aos-delay="3000"].aos-animate,body[data-aos-delay="3000"] [data-aos].aos-animate{transition-delay:3s}[data-aos][data-aos][data-aos-easing=linear],body[data-aos-easing=linear] [data-aos]{transition-timing-function:cubic-bezier(.25,.25,.75,.75)}[data-aos][data-aos][data-aos-easing=ease],body[data-aos-easing=ease] [data-aos]{transition-timing-function:ease}[data-aos][data-aos][data-aos-easing=ease-in],body[data-aos-easing=ease-in] [data-aos]{transition-timing-function:ease-in}[data-aos][data-aos][data-aos-easing=ease-out],body[data-aos-easing=ease-out] [data-aos]{transition-timing-function:ease-out}[data-aos][data-aos][data-aos-easing=ease-in-out],body[data-aos-easing=ease-in-out] [data-aos]{transition-timing-function:ease-in-out}[data-aos][data-aos][data-aos-easing=ease-in-back],body[data-aos-easing=ease-in-back] [data-aos]{transition-timing-function:cubic-bezier(.6,-.28,.735,.045)}[data-aos][data-aos][data-aos-easing=ease-out-back],body[data-aos-easing=ease-out-back] [data-aos]{transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}[data-aos][data-aos][data-aos-easing=ease-in-out-back],body[data-aos-easing=ease-in-out-back] [data-aos]{transition-timing-function:cubic-bezier(.68,-.55,.265,1.55)}[data-aos][data-aos][data-aos-easing=ease-in-sine],body[data-aos-easing=ease-in-sine] [data-aos]{transition-timing-function:cubic-bezier(.47,0,.745,.715)}[data-aos][data-aos][data-aos-easing=ease-out-sine],body[data-aos-easing=ease-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.39,.575,.565,1)}[data-aos][data-aos][data-aos-easing=ease-in-out-sine],body[data-aos-easing=ease-in-out-sine] [data-aos]{transition-timing-function:cubic-bezier(.445,.05,.55,.95)}[data-aos][data-aos][data-aos-easing=ease-in-quad],body[data-aos-easing=ease-in-quad] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quad],body[data-aos-easing=ease-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quad],body[data-aos-easing=ease-in-out-quad] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-cubic],body[data-aos-easing=ease-in-cubic] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-cubic],body[data-aos-easing=ease-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-cubic],body[data-aos-easing=ease-in-out-cubic] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos][data-aos][data-aos-easing=ease-in-quart],body[data-aos-easing=ease-in-quart] [data-aos]{transition-timing-function:cubic-bezier(.55,.085,.68,.53)}[data-aos][data-aos][data-aos-easing=ease-out-quart],body[data-aos-easing=ease-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.25,.46,.45,.94)}[data-aos][data-aos][data-aos-easing=ease-in-out-quart],body[data-aos-easing=ease-in-out-quart] [data-aos]{transition-timing-function:cubic-bezier(.455,.03,.515,.955)}[data-aos^=fade][data-aos^=fade]{opacity:0;transition-property:opacity,transform}[data-aos^=fade][data-aos^=fade].aos-animate{opacity:1;transform:translateZ(0)}[data-aos=fade-up]{transform:translate3d(0,100px,0)}[data-aos=fade-down]{transform:translate3d(0,-100px,0)}[data-aos=fade-right]{transform:translate3d(-100px,0,0)}[data-aos=fade-left]{transform:translate3d(100px,0,0)}[data-aos=fade-up-right]{transform:translate3d(-100px,100px,0)}[data-aos=fade-up-left]{transform:translate3d(100px,100px,0)}[data-aos=fade-down-right]{transform:translate3d(-100px,-100px,0)}[data-aos=fade-down-left]{transform:translate3d(100px,-100px,0)}[data-aos^=zoom][data-aos^=zoom]{opacity:0;transition-property:opacity,transform}[data-aos^=zoom][data-aos^=zoom].aos-animate{opacity:1;transform:translateZ(0) scale(1)}[data-aos=zoom-in]{transform:scale(.6)}[data-aos=zoom-in-up]{transform:translate3d(0,100px,0) scale(.6)}[data-aos=zoom-in-down]{transform:translate3d(0,-100px,0) scale(.6)}[data-aos=zoom-in-right]{transform:translate3d(-100px,0,0) scale(.6)}[data-aos=zoom-in-left]{transform:translate3d(100px,0,0) scale(.6)}[data-aos=zoom-out]{transform:scale(1.2)}[data-aos=zoom-out-up]{transform:translate3d(0,100px,0) scale(1.2)}[data-aos=zoom-out-down]{transform:translate3d(0,-100px,0) scale(1.2)}[data-aos=zoom-out-right]{transform:translate3d(-100px,0,0) scale(1.2)}[data-aos=zoom-out-left]{transform:translate3d(100px,0,0) scale(1.2)}[data-aos^=slide][data-aos^=slide]{transition-property:transform}[data-aos^=slide][data-aos^=slide].aos-animate{transform:translateZ(0)}[data-aos=slide-up]{transform:translate3d(0,100%,0)}[data-aos=slide-down]{transform:translate3d(0,-100%,0)}[data-aos=slide-right]{transform:translate3d(-100%,0,0)}[data-aos=slide-left]{transform:translate3d(100%,0,0)}[data-aos^=flip][data-aos^=flip]{-webkit-backface-visibility:hidden;backface-visibility:hidden;transition-property:transform}[data-aos=flip-left]{transform:perspective(2500px) rotateY(-100deg)}[data-aos=flip-left].aos-animate{transform:perspective(2500px) rotateY(0)}[data-aos=flip-right]{transform:perspective(2500px) rotateY(100deg)}[data-aos=flip-right].aos-animate{transform:perspective(2500px) rotateY(0)}[data-aos=flip-up]{transform:perspective(2500px) rotateX(-100deg)}[data-aos=flip-up].aos-animate{transform:perspective(2500px) rotateX(0)}[data-aos=flip-down]{transform:perspective(2500px) rotateX(100deg)}[data-aos=flip-down].aos-animate{transform:perspective(2500px) rotateX(0)}.Aside-module--awiggleup--fc910 svg{transition:transform .25s cubic-bezier(.645,.045,.355,1) 0s}.Aside-module--awiggleup--fc910:hover svg{transform:translateY(-.25rem)}@keyframes Aside-module--slideup--2953c{0%{transform:translateY(0)}to{opacity:1;transform:translateY(-40px)}}@keyframes Aside-module--fadein--76d7e{0%{opacity:0}to{opacity:1}}.Aside-module--aside__shell--3fbae{align-items:center;background:#000;color:#aaa;display:flex;flex-flow:column;font-weight:700;height:100%;justify-content:flex-end;position:fixed;transition:background .25s,color .25s;width:100px}.Aside-module--aside__shell--3fbae .Aside-module--aside__element--f68e4{cursor:pointer;font-size:1.5rem;margin-bottom:2rem;max-width:1.5rem}.Aside-module--aside__shell--3fbae .Aside-module--aside__element--f68e4 a{color:inherit}.Aside-module--aside__shell--3fbae .Aside-module--aside__element--f68e4 button{background-color:transparent;border:none;color:inherit;cursor:pointer;font-size:inherit;margin:0;outline:none;padding:0}.Aside-module--aside__shell--3fbae .Aside-module--aside__verticalline--53555{background-color:#aaa;height:20vh;width:2px}@media only screen and (max-height:750px){.Aside-module--aside__shell--3fbae .Aside-module--aside__verticalline--53555{height:0}}.Aside-module--aside__shell--3fbae .Aside-module--glowonhover--b69fd:hover{color:#eee;transition:color .25s}.Aside-module--aside__shell--3fbae .Aside-module--aside__email--edda5 a{text-decoration:none}@media(max-width:900px){.Aside-module--aside__shell--3fbae{background-color:#000;bottom:0;color:#eee;display:flex;flex-flow:row;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;justify-content:flex-end;max-height:50px;max-width:100vw;overflow:hidden;padding:1rem 0 1rem 1rem;position:-webkit-sticky;position:sticky;width:100%;z-index:99}.Aside-module--aside__shell--3fbae .Aside-module--aside__verticalline--53555{flex:1 1;height:2px;padding-right:0}.Aside-module--aside__shell--3fbae .Aside-module--aside__element--f68e4{cursor:pointer;font-size:1.3rem;margin-bottom:0;margin-right:1.4rem}.Aside-module--aside__shell--3fbae .Aside-module--aside__element--f68e4 button{vertical-align:baseline}}.Aside-module--aside__shellLight--c6f46{background:#eee;color:#666}.Aside-module--aside__shellLight--c6f46 .Aside-module--glowonhoverLight--091a2:hover{color:#111;transition:color .25s}.Aside-module--aside__shellLight--c6f46 .Aside-module--aside__verticalline--53555{background-color:#555}.Navbar-module--navbar__shell--1f077{color:#bbb;display:flex;flex-flow:row-reverse;padding-right:1rem;padding-top:1rem;position:fixed;right:0;transition:background .25s,color .25s;z-index:1000000}.Navbar-module--navbar__shell--1f077 ul{display:flex;flex-direction:row;font-size:1rem;padding-top:1rem}.Navbar-module--navbar__shell--1f077 ul li{cursor:pointer;font-kerning:normal;font-weight:700;letter-spacing:.025rem;margin-right:1rem;transition:all .25s}.Navbar-module--navbar__shell--1f077 ul li:hover{color:#eee}@media(max-width:900px){.Navbar-module--navbar__shell--1f077{color:#eee;padding-right:.5rem;padding-top:.5rem}.Navbar-module--navbar__shell--1f077 ul{font-size:.9rem}}.Navbar-module--navbar__shellLight--83233{color:#555}.Navbar-module--navbar__shellLight--83233 ul>li:hover{color:#222}.index-module--page__shell--cc2b2{background-color:#000;display:flex;max-width:100vw}@media(max-width:900px){.index-module--page__shell--cc2b2{flex-flow:column-reverse;justify-content:flex-end}}.index-module--page__shellLight--60f33{background-color:#eee}.Blog-module--landing--b9d64{flex:1 1;line-height:1.1;min-height:100vh;padding-left:150px;padding-right:150px;padding-top:2rem}.Blog-module--landing--b9d64 .Blog-module--preText--dd4ca{font-size:1.5rem}.Blog-module--landing--b9d64 .Blog-module--name--330c9{font-size:4rem;font-weight:900;margin-bottom:.5rem}.Blog-module--landing--b9d64 .Blog-module--titlesection--7b699{margin:auto auto 4rem}.Blog-module--landing--b9d64 .Blog-module--divider--4f8db{background-color:#777;height:1px;max-width:650px;width:70%}.Blog-module--landing--b9d64 .Blog-module--dividerFooter--7a4af{background-color:#777;height:1px;margin:auto;max-width:650px;width:70%}.Blog-module--landing--b9d64 .Blog-module--postslist--d318d{margin:auto;max-width:650px;width:80%}.Blog-module--landing--b9d64 .Blog-module--bloglist__item--5da32{padding-bottom:3rem;padding-top:3rem}.Blog-module--landing--b9d64 .Blog-module--bloglist__title--3941a{font-size:1.5rem;font-weight:700;line-height:1.5}.Blog-module--landing--b9d64 .Blog-module--bloglist__author--454b0{font-size:.85rem;margin-bottom:2%;margin-top:1.5%}.Blog-module--landing--b9d64 .Blog-module--bloglist__content--103f6{font-size:1rem;line-height:1.5;margin-top:2%}.Blog-module--landing--b9d64 footer{font-size:.8rem;margin-bottom:5%;margin-top:5%;overflow-y:hidden;text-align:center}.Blog-module--landing--b9d64 .Blog-module--blogpost__content--da07b{font-size:1rem;line-height:1.2;margin:auto;max-width:650px;padding-bottom:4rem;padding-top:3rem;width:80%}.Blog-module--landing--b9d64 .Blog-module--blogpost__title--b267b{font-size:2rem;font-weight:700;line-height:1.25}.Blog-module--landing--b9d64 .Blog-module--blogpost__subtitle--7beb8{font-size:1.2rem;font-weight:700;line-height:1.25;margin-bottom:3%;margin-top:3%}.Blog-module--landing--b9d64 .Blog-module--blogpost__author--8b1e2{font-size:1rem;margin-bottom:4%}.Blog-module--landing--b9d64 .Blog-module--blogpost__header--95f0b{margin-bottom:8%}.Blog-module--landing--b9d64 .Blog-module--backToTop--f0b20{bottom:1rem;color:#999;font-size:2rem;position:fixed;right:1rem;transition:all 1s;-webkit-transition:all 1s;-moz-transition:all 1s;-ms-transition:all 1s;-o-transition:all 1s;z-index:9}.Blog-module--landing--b9d64 .Blog-module--backToTop--f0b20 a{-webkit-tap-highlight-color:rgba(0,0,0,0)}.Blog-module--landing--b9d64 .Blog-module--backToTopLight--8af26{color:#aaa}@media(max-width:900px){.Blog-module--landing--b9d64{padding:5rem 0 4rem}.Blog-module--landing--b9d64 .Blog-module--preText--dd4ca{font-size:1.1rem}.Blog-module--landing--b9d64 .Blog-module--name--330c9{font-size:2.5rem;margin-bottom:.2rem}.Blog-module--landing--b9d64 .Blog-module--titlesection--7b699{border-bottom:2px #aaa;border-style:dashed;margin-bottom:1rem;margin-left:5%;max-width:700px;padding-bottom:2rem;text-align:left;width:90%}.Blog-module--landing--b9d64 .Blog-module--postslist--d318d{margin-top:0;max-width:1000px;width:90%}.Blog-module--landing--b9d64 .Blog-module--bloglist__item--5da32{padding-bottom:2rem;padding-top:2rem}.Blog-module--landing--b9d64 .Blog-module--bloglist__title--3941a{font-size:1.3rem;line-height:1.25}.Blog-module--landing--b9d64 .Blog-module--bloglist__author--454b0{font-size:.8rem;margin-bottom:4%}.Blog-module--landing--b9d64 .Blog-module--bloglist__content--103f6{font-size:.85rem;line-height:1.4;margin-top:4%}.Blog-module--landing--b9d64 .Blog-module--footer--5b35a{font-size:.75rem;margin-top:2rem}.Blog-module--landing--b9d64 .Blog-module--blogpost__content--da07b{max-width:700px;width:90%}.Blog-module--landing--b9d64 .Blog-module--blogpost__title--b267b{font-size:1.75rem;margin-bottom:2%}.Blog-module--landing--b9d64 .Blog-module--blogpost__subtitle--7beb8{font-size:1.1rem;line-height:1.35;margin-bottom:5%;margin-top:5%}.Blog-module--landing--b9d64 .Blog-module--blogpost__author--8b1e2{font-size:.85rem;margin-bottom:4%}.Blog-module--landing--b9d64 .Blog-module--blogpost__header--95f0b{margin-bottom:8%}.Blog-module--landing--b9d64 .Blog-module--backToTop--f0b20{bottom:4rem}}.Main-module--main__shell--8feef{background-color:#000;color:#fff;flex:1 1;height:100%;min-height:100vh;transition:background .25s,color .25s;width:100%}.Main-module--main__shell--8feef .Main-module--main__section--3606d{align-items:center;display:flex;flex-flow:column;justify-content:center;min-height:100vh;width:100%}@media(max-width:900px){.Main-module--main__shell--8feef .Main-module--main__section--3606d{max-width:100vw;width:100%}}.Main-module--main__shellLight--2911d{background-color:#eee;color:#555}._404-module--main404--5c6c7{align-items:center;display:flex;font-size:1.5rem;justify-content:center;padding-left:20px;padding-right:20px;width:100vw}.Landing-module--landing--0a60a{line-height:1.1;overflow-x:hidden;padding-left:150px;padding-right:150px}.Landing-module--landing--0a60a .Landing-module--preText--6be4c{font-size:1.5rem}.Landing-module--landing--0a60a .Landing-module--name--bf4eb{font-size:4rem;font-weight:900;margin-left:-5px}.Landing-module--landing--0a60a .Landing-module--postText--c79c8{font-size:2rem;font-weight:300}.Landing-module--landing--0a60a .Landing-module--longText--faa78{font-size:1.2rem;line-height:1.2;margin-top:1rem;max-width:40rem}@media(max-width:900px){.Landing-module--landing--0a60a{padding-bottom:2rem;padding-left:2rem;padding-right:2rem}.Landing-module--landing--0a60a .Landing-module--preText--6be4c{font-size:.9rem}.Landing-module--landing--0a60a .Landing-module--name--bf4eb{font-size:2.5rem;margin-left:-3px}.Landing-module--landing--0a60a .Landing-module--postText--c79c8{font-size:1.2rem;font-weight:700}.Landing-module--landing--0a60a .Landing-module--longText--faa78{font-size:.9rem;line-height:1.3;margin-top:.7rem}}.About-module--aboutLanding--c51cd{overflow:hidden;padding-left:1.5rem;padding-right:1.5rem}.About-module--aboutOuter--ffcff{display:flex;flex-direction:row;max-width:700px;overflow:hidden;padding:6rem 0;scroll-behavior:smooth}.About-module--aboutOuter--ffcff .About-module--aboutImage--1862c{animation:About-module--morphing--60ccd 6s infinite;animation-timing-function:linear;border-radius:50%;border-radius:50% 30% 30% 50%/50% 50% 30% 30%;margin:auto;max-width:90%;width:200px}.About-module--aboutOuter--ffcff .About-module--aboutImage--1862c:hover{animation-play-state:paused}.About-module--aboutOuter--ffcff .About-module--aboutImageOuter--327e8{align-items:center;display:flex;justify-content:center;padding-right:.7rem;text-align:right}.About-module--aboutOuter--ffcff .About-module--aboutMain--a5554{border-left:2px solid #777;padding-bottom:2rem;padding-left:1.5rem;padding-top:2rem}.About-module--aboutOuter--ffcff .About-module--aboutMainQuote--20e41{font-size:2rem;font-weight:700;margin-bottom:1rem}.About-module--aboutOuter--ffcff .About-module--smileEmoji--e57ed{font-size:2rem}.About-module--aboutOuter--ffcff .About-module--aboutMainContent--c774d{font-size:1.15rem;letter-spacing:.2px;line-height:1.5}.About-module--aboutOuter--ffcff .About-module--aboutMainContent--c774d strong{font-weight:700}.About-module--aboutOuter--ffcff .About-module--aboutMainContent--c774d a{text-decoration:underline;text-underline-offset:.2rem}@media(max-width:900px){.About-module--aboutOuter--ffcff{align-items:center;flex-direction:column;max-width:600px}.About-module--aboutOuter--ffcff .About-module--aboutImageOuter--327e8{padding-right:0;text-align:center}.About-module--aboutOuter--ffcff .About-module--aboutImage--1862c{border-radius:40%;margin:auto;max-width:80%}.About-module--aboutOuter--ffcff .About-module--aboutMain--a5554{border-left:none;margin-top:2rem;padding-bottom:0;padding-left:0;padding-top:0}.About-module--aboutOuter--ffcff .About-module--aboutMainQuote--20e41{font-size:1.3rem;line-height:1.3;text-align:center}.About-module--aboutOuter--ffcff .About-module--smileEmoji--e57ed{font-size:1.3rem}.About-module--aboutOuter--ffcff .About-module--aboutMainContent--c774d{font-size:1rem;line-height:1.5}}@keyframes About-module--morphing--60ccd{0%{border-radius:50% 30% 30% 50%/50% 50% 30% 30%}12%{border-radius:48% 38% 32% 48%/40% 48% 50% 42%}25%{border-radius:38% 42% 35% 46%/35% 46% 64% 54%}37%{border-radius:42% 46% 34% 42%/45% 40% 55% 49%}50%{border-radius:47% 59% 33% 37%/55% 37% 43% 45%}62%{border-radius:40% 48% 45% 42%/50% 40% 40% 40%}75%{border-radius:38% 42% 36% 52%/43% 45% 35% 35%}87%{border-radius:46% 34% 32% 53%/46% 47% 32% 33%}to{border-radius:50% 30% 30% 50%/50% 50% 30% 30%}}.Books-module--booksLanding--d8c82{padding-top:5rem}.Blogpost-module--paragraph--24cce{font-size:1.1rem;letter-spacing:.03rem;line-height:1.5;margin-bottom:2%}.Blogpost-module--paragraph--24cce a{text-decoration:underline}.Blogpost-module--paragraph--24cce strong{font-weight:700}.Blogpost-module--paragraph--24cce em,.Blogpost-module--paragraph--24cce i{font-style:italic}@media(max-width:900px){.Blogpost-module--paragraph--24cce{font-size:1rem;line-height:1.3;margin-bottom:4%}}.Blogpost-module--codeblock--b46bb{font-family:Source Code Pro,monospace!important;font-size:.9rem;line-height:1.4;margin-bottom:4%;margin-top:4%;overflow:scroll;padding:4%}@media(max-width:900px){.Blogpost-module--codeblock--b46bb{font-size:.8rem;margin-bottom:8%;margin-top:8%;overflow:scroll}}.Blogpost-module--code--7cd1e{word-wrap:break-word;background-color:#333;display:inline;font-family:Source Code Pro,monospace!important;font-size:.9rem;padding-left:.75%;padding-right:.75%}.Blogpost-module--code__light--70872{background-color:#ddd}.Blogpost-module--ul--7d1eb{font-size:1.1rem;line-height:1.5;list-style:disc;list-style-position:inside;margin-left:20px;text-indent:-20px}@media(max-width:900px){.Blogpost-module--ul--7d1eb{font-size:1rem;line-height:1.3;margin-bottom:4%}}.Blogpost-module--ol--b55e4{list-style:decimal;list-style-position:inside}.Blogpost-module--li--5e5a4{font-size:1.1rem;line-height:1.5;margin-bottom:1%}.Blogpost-module--li--5e5a4 a{text-decoration:underline}.Blogpost-module--li--5e5a4 strong{font-weight:700}.Blogpost-module--li--5e5a4 em,.Blogpost-module--li--5e5a4 i{font-style:italic}@media(max-width:900px){.Blogpost-module--li--5e5a4{font-size:1rem;line-height:1.3}}.Blogpost-module--h2--22ac5{font-size:1.3rem;font-weight:700;margin-bottom:5%;margin-top:5%}@media(max-width:900px){.Blogpost-module--h2--22ac5{margin-bottom:7%;margin-top:7%}}.Blogpost-module--image--3bb92{margin-bottom:4%;margin-top:4%}@media(max-width:900px){.Blogpost-module--image--3bb92{margin-bottom:10%;margin-top:10%}}.Blogpost-module--h3--f8050{font-size:1.2rem;font-weight:700;margin-bottom:4%;margin-top:4%}@media(max-width:900px){.Blogpost-module--h3--f8050{margin-bottom:6%;margin-top:6%}}.Blogpost-module--h4--929b9{font-size:1.1rem;font-weight:700;margin-bottom:3%;margin-top:3%}@media(max-width:900px){.Blogpost-module--h4--929b9{margin-bottom:5%;margin-top:5%}}</style><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b3dab8f0e24dcbb1d8eb43e4d104b5f3"/><title data-react-helmet="true">From index.js to Kubernetes ASAP | Dakshraj Sharma</title></head><body class="whiteBG"><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="index-module--page__shell--cc2b2 index-module--page__shellLight--60f33"><div style="visibility:hidden"><nav class="Navbar-module--navbar__shell--1f077 Navbar-module--navbar__shellLight--83233"><ul><li class="Aside-module--glowonhoverLight--091a2"><a href="/">Home</a></li><li class="Aside-module--glowonhoverLight--091a2"><a href="/blog">Blog</a></li><li class="Aside-module--glowonhoverLight--091a2"><a href="/reading">Reading</a></li><li class="Aside-module--glowonhoverLight--091a2"><a href="/about">About</a></li></ul></nav><aside class="Aside-module--aside__shell--3fbae Aside-module--aside__shellLight--c6f46"><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--aside__email--edda5 Aside-module--glowonhoverLight--091a2"><a href="mailto:sharmarajdaksh@gmail.com" aria-label="Email"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 0 0-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"></path></svg></a></div><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--glowonhoverLight--091a2"><a href="https://github.com/sharmarajdaksh" aria-label="Github URL" target="__blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--glowonhoverLight--091a2"><a href="https://www.linkedin.com/in/sharmarajdaksh/" aria-label="LinkedIn URL" target="__blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--glowonhoverLight--091a2"><a href="https://stackoverflow.com/users/9134637/dakshraj-sharma" aria-label="StackOverflow URL" target="__blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg></a></div><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--glowonhoverLight--091a2"><a href="https://medium.com/@sharmarajdaksh" aria-label="Medium URL" target="__blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"></path></svg></a></div><div class="Aside-module--awiggleup--fc910 Aside-module--aside__element--f68e4 Aside-module--glowonhoverLight--091a2"><button aria-label="Toggle Theme"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path></svg></button></div><div class="Aside-module--aside__verticalline--53555"></div></aside><main class="Main-module--main__shell--8feef Main-module--main__shellLight--2911d Blog-module--landing--b9d64"><div class="Blog-module--titlesection--7b699"><a href="/"><h1 class="Blog-module--name--330c9" data-aos="fade-right" data-aos-duration="375">Dakshraj Sharma.</h1></a><h2 class="Blog-module--preText--dd4ca" data-aos="fade-right" data-aos-delay="375" data-aos-duration="375">ramblings of a serial technical experimenter.</h2><div class="Blog-module--backToTop--f0b20 Blog-module--backToTopLight--8af26" style="opacity:0"><a href="[object Object]"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm292 116V256h70.9c10.7 0 16.1-13 8.5-20.5L264.5 121.2c-4.7-4.7-12.2-4.7-16.9 0l-115 114.3c-7.6 7.6-2.2 20.5 8.5 20.5H212v116c0 6.6 5.4 12 12 12h64c6.6 0 12-5.4 12-12z"></path></svg></a></div></div><section class="Blog-module--blogpost__content--da07b"><div class="Blog-module--blogpost__header--95f0b" data-aos="fade-up" data-aos-duration="200"><div class="Blog-module--blogpost__title--b267b">From index.js to Kubernetes ASAP</div><div class="Blog-module--blogpost__subtitle--7beb8">Kubernetes isn&#x27;t scary. Really. I promise.</div><div class="Blog-module--blogpost__author--8b1e2">June 01, 2021<!-- --> | <!-- -->Dakshraj Sharma<!-- --> |<!-- --> <!-- -->14 minute read</div><div class="Blog-module--divider--4f8db"></div></div><div data-aos="fade-up" data-aos-duration="1000"><p class="Blogpost-module--paragraph--24cce">Kubernetes, or K8s for short, isn&#x27;t new. It&#x27;s been around for about seven years now.
Seven years isn&#x27;t a very long time in tech terms, but over this time K8s has evolved rapidly,
giving rise to a mature ecosystem, with flavors and distributions of K8s to fit almost any business need.</p>
<p class="Blogpost-module--paragraph--24cce">For software engineers who&#x27;ve been working with backend technologies, who&#x27;ve perhaps come across
and worked with Docker, K8s can sometimes seem like a different beast.
Like it is a technology you need to take a long time to just start with, let alone master.
I understand because I sometimes felt similarly. But let&#x27;s clear up these thoughts a little.</p>
<p class="Blogpost-module--paragraph--24cce">Yes, you&#x27;ll probably never completely master Kubernetes. It&#x27;s too vast and there is too much to learn.
Instead, you&#x27;ll eventually get a better understanding of the core features of Kubernetes as you work with it
and be able to understand what you need it to do.
Research, figure out that new K8s plugin that could help you achieve your goal, use it, and get your use case working.
Rinse and repeat. Maybe write a blog post about it. This, in my opinion, is the better approach to get used to K8s:
use it, and learn what you need to, to be able to use it better.</p>
<p class="Blogpost-module--paragraph--24cce">No, it isn&#x27;t all that hard to get started. Let&#x27;s see how.</p>
<h2 class="Blogpost-module--h2--22ac5">Basic Kubernetes terminology</h2>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4"><strong>Node</strong>: A node is an actual operating system/virtual machine running kubernetes</li>
<li class="Blogpost-module--li--5e5a4"><strong>Cluster</strong>: A cluster is a set of nodes. One of these nodes becomes a master while the others are workers.</li>
<li class="Blogpost-module--li--5e5a4"><strong>Pod</strong>: You can think of pods as kubernetes&#x27; abstraction over containers. Kubernetes will never deal directly with out actual containers. Instead, it manages pods. Each pod may have multiple containers running under it, but often, a 1 to 1 pod to container mapping is the norm, that is, each pod runs a single container. If you think of pods as something like a container, you wouldn&#x27;t be too wrong. This is the smallest unit of deployment in Kubernetes.</li>
<li class="Blogpost-module--li--5e5a4"><strong>ReplicaSet</strong>: A replicaset manages pod operations, such as scaling up pods, restarting broken pods, etc. Essentially, it maintains the replication status of your kubernetes pods.</li>
<li class="Blogpost-module--li--5e5a4"><strong>Deployments</strong>: Deployments manage replicasets, and are also responsible for updating pods when necessary. Often, replicasets in Kubernetes are not managed by users. Instead, users manage Deployments, which inturn automatically manage replicasets.</li>
<li class="Blogpost-module--li--5e5a4"><strong>Service</strong>: Services in Kubernetes are used to expose applications running within pods to the internal kubernetes network as well as to the outside world. There are four kinds of deployments:<!-- -->
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4"><strong>ClusterIP</strong>: Exposes service ports internally within kubernetes.</li>
<li class="Blogpost-module--li--5e5a4"><strong>NodePort</strong>: Exposes service ports outside of the kubernetes cluster. Generally only used for development purposes.</li>
<li class="Blogpost-module--li--5e5a4"><strong>LoadBalancer</strong>: Exposes the service externally using a cloud provider&#x27;s load balancer, automatically managing ClusterIPs and NodePorts. This is the general preferred method to exposing applications outside kubernetes.</li>
<li class="Blogpost-module--li--5e5a4"><strong>ExternalName</strong>: According to the official Kubernetes documentation, ExternalName services map the Service to the contents of the externalName field (e.g. foo.bar.example.com), by returning a CNAME record with its value. No proxying of any kind is set up. To put it in very basic terms, it will act as an actual DNS CNAME record, and can be used for introducing redirections.</li>
</ul>
</li>
</ul>
<h2 class="Blogpost-module--h2--22ac5">Setting up for local development</h2>
<p class="Blogpost-module--paragraph--24cce">To develop for Kubernetes locally, there are some things you will need to set up.</p>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4">First of all, you will need a container runtime. <a href="https://docs.docker.com/get-docker/">Docker</a> is the most popular one, although Kubernetes can also support other container runtimes.</li>
<li class="Blogpost-module--li--5e5a4">Next, you need a Kubernetes cluster. You could use a cloud service, or you could set up a local cluster using a tool like <a href="https://minikube.sigs.k8s.io/docs/"><strong>Minikube</strong></a>, which is what I&#x27;ll be using. If you&#x27;re on Windows or Mac using Docker for desktop, I believe you can also start up Kubernetes from the Docker desktop app, without having to manually install anything. I am currently using Linux and don&#x27;t have that luxury.</li>
<li class="Blogpost-module--li--5e5a4">Once you have a cluster running, you need to be able to access and control the Kubernetes cluster. <a href=""><strong>kubectl</strong></a> is the tool to help you do that.</li>
</ul>
<p class="Blogpost-module--paragraph--24cce">With these tools on your machine, you should be ready to go. Let&#x27;s open up a code editor inside an empty directory, and try to get some code running inside Kubernetes ASAP.</p>
<h2 class="Blogpost-module--h2--22ac5">Creating the Express.js server</h2>
<p class="Blogpost-module--paragraph--24cce">Let&#x27;s create an express server. Run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">npm init -y</span> to set up a Node.js project, and install express using <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">npm install express</span>.</p>
<p class="Blogpost-module--paragraph--24cce">Create an <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">index.js</span> file inside your working directory and let&#x27;s set up a root <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">/</span> route handler, running the server on port 3000:</p>
<pre class="prism-code language-js Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)">// index.js</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(111, 66, 193)">require</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(111, 66, 193)">express</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">all</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 92, 197)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">send</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"> </span><span class="token literal-property property">message</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string">&quot;Hello from Express&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token number">3000</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">listen</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">PORT</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 92, 197)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(227, 98, 9)">console</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">log</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">listening on port </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">${</span><span class="token template-string interpolation constant" style="color:rgb(100, 102, 149)">PORT</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">Update the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">package.json</span> file to add a <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">start</span> script.</p>
<pre class="prism-code language-json Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token property" style="color:rgb(3, 47, 98)">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;start&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;node index.js&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">You can run npm start right now on your machine and go to <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">http://localhost:3000/</span> on your machine to view the fruits of your labour. But we&#x27;re not done yet. Let&#x27;s dockerise this server.</p>
<h2 class="Blogpost-module--h2--22ac5">Dockerizing the Express server</h2>
<p class="Blogpost-module--paragraph--24cce">Create a <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">Dockerfile</span> inside your working directory to copy <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">package.json</span> into the container, install necessary packages, copy <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">index.js</span> into the container and then run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">npm start</span> on startup. Very simple.</p>
<pre class="prism-code language-dockerfile Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"># Dockerfile</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">FROM node</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">COPY package*.json ./</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">RUN npm install</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">COPY index.js index.js</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">CMD [&quot;npm&quot;, &quot;start&quot;]</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">Please do not use this Dockerfile in production. Learn more about docker before you&#x27;re putting containers into production.</p>
<p class="Blogpost-module--paragraph--24cce">Remember to also create a .dockerignore file so that docker ignores the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">node_modules</span> directory.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"># .dockerignore</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">node_modules/</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">Kubernetes does not build your Docker images. So we&#x27;ll have to do that manually. In your terminal, from inside your working directory, you can run:</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">$ docker build -t index-to-k8s-node .</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">We have tagged the image <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">index-to-k8s-node</span> using the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">-t</span> flag so we can easily refer to it later.</p>
<h2 class="Blogpost-module--h2--22ac5">To Kubernetes</h2>
<p class="Blogpost-module--paragraph--24cce">Ensure that your Kubernetes cluster is running. If you&#x27;re running minikube the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">minikube status</span> and <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">minikube start</span> commands should be helpful. You can also check if your cluster is running with the command <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get pods -A</span>. You should be able to see some 4 or 5 pods listed. These are Kubernetes managed pods and you should avoid messing with them unless you know what you&#x27;re doing.</p>
<p class="Blogpost-module--paragraph--24cce">Now, the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl</span> allows two methods for managing your cluster. The imperative approach is the one where you use the kubectl command line to manage your k8s resources. The declarative approach allows you to specify the state of your cluster inside yaml configuration files. We&#x27;ll be following the latter approach. The imperative approach works well only for testing stuff or to troubleshoot issues when you&#x27;re in a pinch. In general, you should focus on learning the declarative approach, and figure out the imperative (command-based) approach whenever you feel like you need it.</p>
<p class="Blogpost-module--paragraph--24cce">With that out of the way, let&#x27;s consider what Kubernetes resources we would need to run our container on kubernetes.</p>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4">We could run a Pod containing the container, by itself.</li>
<li class="Blogpost-module--li--5e5a4">We could run a Deployment for the application, that would manage Pods and ReplicaSets by itself.</li>
</ul>
<p class="Blogpost-module--paragraph--24cce">The former approach isn&#x27;t really good at all. If the container goes down, nothing will get it up and running again. Scaling up the application horizontally would mean running another Pod manually rather than simply updating a Deployment configuraion, like we could if we used the latter approach. The second approach is better, and is the one we&#x27;ll be going with.</p>
<p class="Blogpost-module--paragraph--24cce">Besides the deployment, we would also need to create a service to expose our application. We do not need internal networking withing our cluster, so a ClusterIP won&#x27;t be needed. However, we do want to expose our service to our local machine. A NodePort could be ideal for our scenario, so that is what we will use.</p>
<p class="Blogpost-module--paragraph--24cce">To get this done, we&#x27;ll create a new directory inside our working directory and call it <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">k8s</span>.</p>
<p class="Blogpost-module--paragraph--24cce">Inside we will create two configuration yaml files. One will be for our deployment (<span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">depl.yaml</span>), and one will be for our NodePort service <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">svc.yaml</span>.</p>
<p class="Blogpost-module--paragraph--24cce"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">depl.yaml</span> could look something like this:</p>
<pre class="prism-code language-yaml Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># depl.yaml</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> apps/v1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Deployment</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">replicas</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">app</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">app</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">containers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">k8s</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">latest</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token key atrule">imagePullPolicy</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Never</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">limits</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              </span><span class="token key atrule">memory</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token string">&quot;256Mi&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              </span><span class="token key atrule">cpu</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token string">&quot;500m&quot;</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">It&#x27;s not overly complicated, and perhaps it might get you thinking &quot;Hey, this k8s thing might not be that hard afterall, huh?&quot;. Unfortunately, this won&#x27;t be even the tip of the iceberg that is k8s.
Still, this should be enough to get us going. Let&#x27; analyze the yaml content, block by block.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">apiVersion: apps/v1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">kind: Deployment</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">metadata:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  name: node-app</span></div></pre>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4">The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">apiVersion</span> tag is necessary for Kubectl to know which specific reosurce version you are referring to.
The definition and the availability of these resources may vary from version to version, so ensuring the correct version becomes important.
Not all k8s resources are available in all k8s api versions.</li>
<li class="Blogpost-module--li--5e5a4"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kind</span> tells k8s the kind of resource you want to create (mind = blown).</li>
<li class="Blogpost-module--li--5e5a4">The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">metadata</span> tag doesn&#x27;t impact k8s behavior at all. It is only for the users, and can be used to identify unique resources in a k8s cluster.</li>
</ul>
<p class="Blogpost-module--paragraph--24cce">Next comes the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">spec</span> block. This is where we define the spec, or the specification, of the resource we are tryning to create, which is a Deployment in our case.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">replicas: 1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  selector:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    matchLabels:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      app: node-app</span></div></pre>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">replicas</span> tells k8s the number of pods you want to run inside of this deployment.</li>
<li class="Blogpost-module--li--5e5a4">The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">selector</span> attribute is used for adding labels to your resources. Rather than referring to individual pods or resoruces, in k8s you&#x27;ll often find yourself referring to particular resources by labels, as you will also see later in this article.</li>
</ul>
<p class="Blogpost-module--paragraph--24cce">Next comes the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">templates</span> tag. In this tag, we provide the specifications of the pods we want running inside of our deployment. The first block, <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">metadata</span> is... err... metadata. Same as the one in the parent Deployment block.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">metadata:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      labels:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        app: node-app</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">Now inside <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">spec</span>, we actually configure our pod.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">spec:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      containers:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        - name: name</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          image: index-to-k8s-node:latest</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          imagePullPolicy: Never</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          resources:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            limits:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              memory: &quot;256Mi&quot;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              cpu: &quot;500m&quot;</span></div></pre>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">containers</span> is a list of contianers that we want to have running inside of each pod. Here, we define exactly one container.</li>
<li class="Blogpost-module--li--5e5a4">Each container has a <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">name</span>, and an <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">image</span>. Notice that the image name is the name with which we tagged our Node.js image earlier.</li>
<li class="Blogpost-module--li--5e5a4">The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">imagePullPolicy</span> tells k8s when or if it should attempt to pull the specified resource from a remote registry. The default, <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">Always</span>, tells k8s to always pull the image on pod startup. In our case, since we only have the image available locally on our system, we set the policy to <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">Never</span>, telling k8s to only look for the image on our system. If the image is not found locally, the pod will simply never startup.</li>
<li class="Blogpost-module--li--5e5a4">Under the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">resources</span> tag, we limit the maximum cpu and memory that a container is allowed to take up on our system.</li>
</ul>
<p class="Blogpost-module--paragraph--24cce">There we have it. A Node.js kubernetes deployment in all it&#x27;s glory.</p>
<p class="Blogpost-module--paragraph--24cce">We could totally run this on our cluster. But it wouldn&#x27;t be much use since we would have no way to access our server. For doing that, we must also set up a Service. A NodePort will allow us to expose our server on the host, which is our machine.</p>
<p class="Blogpost-module--paragraph--24cce">The configuration for the NodePort service is rather simple.</p>
<pre class="prism-code language-yaml Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># svc.yaml</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> v1</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Service</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">selector</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">app</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> NodePort</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">3000</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">targetPort</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">3000</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kind</span>, <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">apiVersion</span>, <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">metadata</span> and <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">spec</span> tags correlate exactly with their roles in <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">depl.yaml</span>.</p>
<p class="Blogpost-module--paragraph--24cce">However, inside <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">spec</span> pay notice to the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">selector</span> block.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">selector:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    app: node-app</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">This block tells the NodePort service which particular resources it should route to. So, we are telling our service this: &quot;Please be associated with resources that have the label app=node-app attached to them&quot;. And which resource is that? Our Deployment of course! You can go back and ensure that the selector we added to our Deployment spec infact matches this one.</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">type: NodePort</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  ports:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    - name: node-app</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      port: 3000</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      targetPort: 3000</span></div></pre>
<ul class="Blogpost-module--ul--7d1eb">
<li class="Blogpost-module--li--5e5a4"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">type</span> is the type of Service, which is a NodePort in our case.</li>
<li class="Blogpost-module--li--5e5a4"><span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">ports</span> is a list of port mappings. The <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">name</span> is pretty much for our identification. <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">port</span> specifies the external port (that is, the port on the host), and <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">targetPort</span> is the port of the container that the <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">port</span> should map to.
So essentially, here we are telling the NodePort service to map port 3000 on our machine to port 3000 of the container.</li>
</ul>
<h2 class="Blogpost-module--h2--22ac5">Deploying K8s resources</h2>
<p class="Blogpost-module--paragraph--24cce">Now, with these two files we should be ready. To be sure, your working directory&#x27;s structure should now look something like this:</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| k8s/</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| ---- depl.yaml</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| ---- svc.yaml</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| node_modules/</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| .dockerignore</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| Dockerfile</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| index.js</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| package-lock.json</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">| package.json</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">Ensure that you have your Kubernetes cluster running by running <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get pods</span>. It should return an empty output like this:</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/68df4bf7c64417c90bad8bbe3c6d4f77/c946b/no_pods_found.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 15.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA+wAAAPsAHpfpy9AAAAg0lEQVR42jWLXQ6DIBjAPIiwwSZ/UUBwIKJDl93/TPuILmmavrShfSa6EFPoabtT/abjAY3VglXGKkEglaTNwgZhJqmTMsv9aRtmNu4P5irduHP/6WyRry9E3eR8ISIf5sGvlDvCHPgGM2JTy2Mr4t8B8XAGDBcyIhGFWXq3wVN5VP8AjNUfbFbQGdYAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="No resources found in default namespace"
        title=""
        src="/static/68df4bf7c64417c90bad8bbe3c6d4f77/5a190/no_pods_found.png"
        srcset="/static/68df4bf7c64417c90bad8bbe3c6d4f77/772e8/no_pods_found.png 200w,
/static/68df4bf7c64417c90bad8bbe3c6d4f77/e17e5/no_pods_found.png 400w,
/static/68df4bf7c64417c90bad8bbe3c6d4f77/5a190/no_pods_found.png 800w,
/static/68df4bf7c64417c90bad8bbe3c6d4f77/c946b/no_pods_found.png 805w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">In case you got an error, try to ensure that your k8s cluster is running and try again.</p>
<p class="Blogpost-module--paragraph--24cce">Now, to run our deployment, use the command:</p>
<pre class="prism-code language- Blogpost-module--codeblock--b46bb" style="color:rgb(36, 41, 46);background-color:#FAFAFA"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">kubectl apply -f k8s/</span></div></pre>
<p class="Blogpost-module--paragraph--24cce">This tells k8s to apply all the manifest (yaml configurations for k8s are called manifests) to our cluster. The output you get should look like this:</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e811e5829d915d51ea90bdf96c8dfd3e/58213/kubectl_apply.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 12%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAAYklEQVR42k3K2w5AMBAEUD+CuizbG12NtvQBCf7/k2i8SE4mk8lkwm7S34m7hDvRHh3tOV8KHlKiz9HXcsEhgJp65UDMqAMDKluTvU1R1BTluL4atFVHrDUMTMoP0PdO488DNFYUw9YlrR8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Output of kubectl apply"
        title=""
        src="/static/e811e5829d915d51ea90bdf96c8dfd3e/5a190/kubectl_apply.png"
        srcset="/static/e811e5829d915d51ea90bdf96c8dfd3e/772e8/kubectl_apply.png 200w,
/static/e811e5829d915d51ea90bdf96c8dfd3e/e17e5/kubectl_apply.png 400w,
/static/e811e5829d915d51ea90bdf96c8dfd3e/5a190/kubectl_apply.png 800w,
/static/e811e5829d915d51ea90bdf96c8dfd3e/58213/kubectl_apply.png 902w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">Your deployment and the corresponding pod might take a short time to start up. Now, if you run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get pods</span>, <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get deployments</span> and <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get services</span>, you should be able to see the new resources.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0b7a426e8dd9b14afd4e38c12c9e85c0/58213/resources_created.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA+wAAAPsAHpfpy9AAABDElEQVR42j2PV27EMAwF9yBJXCSrN8uii2zLZYMguf+FwgCLAPx4IDgYvgf3e6VXEg6c1hfqS+tKF+/WbcSXSs7vciFmkX5hdmB6lHbWPlORPoh/2HR2fuf90eG1WYnJxK7M7wjodFUc3hhUAjoNVEVkOgWED3XXVzQ8DFw0lMZuqKp1Jm5T8GTxUuni/SmHi8dTxsLMxAyagZsJnUj+wdxm7lfhN+435laq50ZOGHDTyLHmqVWTcJmIoeGh5QMGNL9gA3fjSm13AU8sL+HT5Z/K7CLdZv4idnP5W8aTuznOu8LmesR5wT0cEYrQMOVb2smEZRgPJlMYdmWnhgaYL8xUJh1Wpsb31v2//QulakGJtEg6yAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Kubernetes resources are now created"
        title=""
        src="/static/0b7a426e8dd9b14afd4e38c12c9e85c0/5a190/resources_created.png"
        srcset="/static/0b7a426e8dd9b14afd4e38c12c9e85c0/772e8/resources_created.png 200w,
/static/0b7a426e8dd9b14afd4e38c12c9e85c0/e17e5/resources_created.png 400w,
/static/0b7a426e8dd9b14afd4e38c12c9e85c0/5a190/resources_created.png 800w,
/static/0b7a426e8dd9b14afd4e38c12c9e85c0/58213/resources_created.png 902w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">You can see that the single pod has a random name prefixed by the name of our deployment <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">node-app</span>. Every time a pod starts up, it gets name which is the name of the deployment followed by a random string. Under resources, we see a mystery Service <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubernetes</span>, created by Kubernetes itself for internal networking. We do not want to mess with that. Under it, we also see our own NodePort service.</p>
<h2 class="Blogpost-module--h2--22ac5">Accessing our API</h2>
<p class="Blogpost-module--paragraph--24cce">Now, this part is a bit tricky. If you&#x27;re on Docker for Desktop on Windows or Mac, using it&#x27;s kubernetes feature,
I think that you should now be able to access your api at http://localhost:3000/ right away. I might be wrong, but I haven&#x27;t had a chance to run this code on Docker for Desktop. Sorry! You might need to research on how NodePorts can be accessed in your environment if you are on Docker for Desktop.</p>
<p class="Blogpost-module--paragraph--24cce">For Minkube users like myself, I think the process might be the same irrespective of OS. For references, I am on Linux.</p>
<p class="Blogpost-module--paragraph--24cce">If you run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get services</span> again, you should see a port mapping. The port on the right is the port we will use to access the service on our machine. Minikube (and I think Kubernetes in general) assigns ports in the 30000s range to avoid collisions with other services. As you see, for me this port is 30768.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1d3d23474ec0ef09d508728b9783c54a/58213/kubectl_get_services.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 12.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA+wAAAPsAHpfpy9AAAAlUlEQVR42iWNSw6CMBQAOYi0xRb6/0ssj1bRhYnh/vcRQzKL2Uym6xUg0y4Sel2Jqdg+kF6JbYNtWAPSlVnQCYSfhb1LW6QrwxTJ+KejpiT4mLxxX8vz6+Y31QVeuwyVO1i2XcdGRc5l4+Y+TOnKM2bhpGPiZsJqAjCRtV+UW07B1FOeXKw21kkd2zKqGVF/NGQM5/kHvT0gdpjm49MAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Output of kubectl get services"
        title=""
        src="/static/1d3d23474ec0ef09d508728b9783c54a/5a190/kubectl_get_services.png"
        srcset="/static/1d3d23474ec0ef09d508728b9783c54a/772e8/kubectl_get_services.png 200w,
/static/1d3d23474ec0ef09d508728b9783c54a/e17e5/kubectl_get_services.png 400w,
/static/1d3d23474ec0ef09d508728b9783c54a/5a190/kubectl_get_services.png 800w,
/static/1d3d23474ec0ef09d508728b9783c54a/58213/kubectl_get_services.png 902w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">However, http://localhost:30768/ won&#x27;t work. Instead, minkube runs on it&#x27;s own internal IP, on which we will finally be able to access our service. To get that IP run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">minikube ip</span>. For me, this is <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">192.168.49.2</span>.</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 677px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/aaa4196b95383df6685a45f44ff53484/68de2/minikube_ip.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 10.999999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA+wAAAPsAHpfpy9AAAAZElEQVR42h3JCQqAIBRF0TZipuSQU44UZSXtf1H5g8vhwRuIPoh/p7WN9kHmhvSFzIVsA3Xtjurso+vKs4Rdx7y4jbAwSHeocEtfiSyYJSwyxBPm+S9BLMLF06wKFZGK0J2Y/wAFURSHfefgogAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Output of minikube ip"
        title=""
        src="/static/aaa4196b95383df6685a45f44ff53484/68de2/minikube_ip.png"
        srcset="/static/aaa4196b95383df6685a45f44ff53484/772e8/minikube_ip.png 200w,
/static/aaa4196b95383df6685a45f44ff53484/e17e5/minikube_ip.png 400w,
/static/aaa4196b95383df6685a45f44ff53484/68de2/minikube_ip.png 677w"
        sizes="(max-width: 677px) 100vw, 677px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">Now, finally using the IP given by <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">minikube ip</span> and the port seen using <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl get services</span>, we can access our service at http://&lt;minikube-ip&gt;:&lt;port&gt;/, which for me comes out to be http://192.168.49.2:30768/</p>
<span><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 599px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/816a1773ec6d4491257d97173f15b853/43142/hello_from_express.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA+wAAAPsAHpfpy9AAABJ0lEQVR42qVMXU+CYBh9r8sGqSgyyr5mc1m6lbbVqqv6NZWoCOJH9Q+xMcPE9IKbjC0vfeHlhUCGubzs7OzsPGfPOaB0eXdyenVUKKUPsnuZ3G4mt394TDHbJJWK0Ww2f168uM2fXReKN6sEJMXGmR2CYjaitKdEPBWJJiObNJlgPR9NbsVS6TUisU4mVwk4Xqw32oLUEVtPvNgUmh1ebHle6rxI7WfvrNQb5WqdqwmePlb4B652X64GBJZlYYxthAIDITRNCGczZCHTNC1k+YKQjWzs//lwQ4C3Xm88GiuKIndf4Qzquj4YDIba8MswRqMPVVUnk8/+e1+Wu5qmGYbxPZ1i7OA5QLDhzBEuhv43WfJLIQj+FuVFzTeOG4au82crKLv/wA8NF05SA7nhJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Hello from express"
        title=""
        src="/static/816a1773ec6d4491257d97173f15b853/43142/hello_from_express.png"
        srcset="/static/816a1773ec6d4491257d97173f15b853/772e8/hello_from_express.png 200w,
/static/816a1773ec6d4491257d97173f15b853/e17e5/hello_from_express.png 400w,
/static/816a1773ec6d4491257d97173f15b853/43142/hello_from_express.png 599w"
        sizes="(max-width: 599px) 100vw, 599px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></span>
<p class="Blogpost-module--paragraph--24cce">And there we are. We went all the way from an empty directory to an application running on Kubernetes.
Working code for this application is available <a href="https://github.com/sharmarajdaksh/index-to-k8s-asap">here</a>.</p>
<h2 class="Blogpost-module--h2--22ac5">Final words</h2>
<p class="Blogpost-module--paragraph--24cce">Now that you do have the application running on Kubernetes, you can perhaps try experimenting with the manifests. Perhaps increase the replicas to 2 or 3? Perhaps update your Node.js image to have an actual application, and then redeploy the service? Once you update your manifest yaml files, just re-run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl apply -f k8s/</span> to update the cluster. Kubernetes automatically checks what changed and applies those changes.</p>
<p class="Blogpost-module--paragraph--24cce">Finally, when you&#x27;re done, just run <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">kubectl delete -f k8s/</span> to delete all resources created from those manifest files. You might also want to shut down minikube using <span class="Blogpost-module--code--7cd1e Blogpost-module--code__light--70872">minikube stop</span>.</p>
<p class="Blogpost-module--paragraph--24cce">If you made it this far, that means you perhaps deployed your first(?) application to a kubernetes cluster. Congrats! It isn&#x27;t all that hard afterall, is it? But again, don&#x27;t go about claiming you know Kubernetes yet 😉.</p>
<p class="Blogpost-module--paragraph--24cce">That&#x27;s it for now, dear reader. Until next time, happy learning.</p>
<p class="Blogpost-module--paragraph--24cce">In case you wanna discuss something about this article or tech in general,
feel free to reach out to me!</p></div></section><div class="Blog-module--dividerFooter--7a4af"></div><footer class="Blog-module--footer--5b35a">Dakshraj Sharma, 2021</footer></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-198807496-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-198807496-1', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/from-indexjs-to-k8s-ASAP/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-925945d95e0ee4366ca2.js\"],\"component---src-pages-404-jsx\":[\"/component---src-pages-404-jsx-66a81aff0562c2194c36.js\"],\"component---src-pages-about-jsx\":[\"/component---src-pages-about-jsx-857645dcb0df5ae02830.js\"],\"component---src-pages-blog-jsx\":[\"/component---src-pages-blog-jsx-13f111c50df54a2a82e3.js\"],\"component---src-pages-index-jsx\":[\"/component---src-pages-index-jsx-81dc291bfb0bc847c5b6.js\"],\"component---src-pages-reading-jsx\":[\"/component---src-pages-reading-jsx-1e5bf9717aa4834002de.js\"],\"component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-06-06-index-mdx\":[\"/component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-06-06-index-mdx-207c8474bdd38a806feb.js\"],\"component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-06-24-index-mdx\":[\"/component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-06-24-index-mdx-cca0e4f8cf5ab1a2c6bc.js\"],\"component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-09-15-index-mdx\":[\"/component---src-templates-blogpost-jsx-content-file-path-src-posts-2020-09-15-index-mdx-a129480a368356fc0401.js\"],\"component---src-templates-blogpost-jsx-content-file-path-src-posts-2021-03-21-index-mdx\":[\"/component---src-templates-blogpost-jsx-content-file-path-src-posts-2021-03-21-index-mdx-f5244f979db75c2ab064.js\"],\"component---src-templates-blogpost-jsx-content-file-path-src-posts-2021-05-29-index-mdx\":[\"/component---src-templates-blogpost-jsx-content-file-path-src-posts-2021-05-29-index-mdx-56c977c6b75846df850a.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="bd32080e910dfbc05a39";</script><script src="/webpack-runtime-8472e3fcfebac6528dea.js" async></script><script src="/framework-e59175b5fc4b364bb443.js" async></script><script src="/cb355538-80720c15979fe7610973.js" async></script><script src="/app-925945d95e0ee4366ca2.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>